const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/HomePage-BLqfDnPa.js","assets/js/ui-Ct5cQbGm.js","assets/js/router-BzeIgkns.js","assets/js/vendor-DEQ385Nk.js","assets/js/badge-CutB9wkN.js","assets/js/utils-Bmne0XXo.js","assets/js/animation-DUSlpkVZ.js","assets/js/icons-MbMX8aHs.js","assets/js/firebase-rW0Qch21.js","assets/js/DashboardPage-D3p_Ng1k.js","assets/js/input-C3c5IdTo.js","assets/js/useAuth-CgR9YSdx.js","assets/js/ApplicationService-d2Sia-vC.js","assets/js/ChatPage-BD8ro-8q.js","assets/js/tabs-rRZ_l-gb.js","assets/js/label-CU6ShTwc.js","assets/js/select-DUYTiiHq.js","assets/js/index-jVOyRz7F.js","assets/js/LoginPage-DFco8spT.js","assets/js/toast-6hGRIt6j.js","assets/js/RegisterPage-CXOgWdbf.js","assets/js/ProfilePage-CaJimnoO.js","assets/js/Settings-WtIO2iG_.js","assets/js/SearchPage-DzdUh-dz.js","assets/js/DiscoveryPage-D7cPkADg.js","assets/js/NotFoundPage-BtoCn4-m.js","assets/js/WebContainerTest-CUpa0rcJ.js","assets/js/scroll-area-CWPF13ZN.js","assets/js/webcontainer-B_DT545e.js","assets/js/RealtimeGeneration-DGVGWRwf.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,r,s)=>((t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s)(t,"symbol"!=typeof r?r+"":r,s);import{j as r,P as s,c as a,a as n,u as o,B as i,b as c,d as l,e as d,f as u,R as m,g as h,h as p,i as f,S as x}from"./ui-Ct5cQbGm.js";import{r as g,a as w,L as y,u as v,N as b,d as j,e as E,B as N}from"./router-BzeIgkns.js";import{a as T}from"./vendor-DEQ385Nk.js";import{t as C,c as S,a as P}from"./utils-Bmne0XXo.js";import{X as L,I as R,T as A,C as D,a as k,R as _,H as I,B as O}from"./icons-MbMX8aHs.js";import{i as U,g as M,a as F,b as z,c as V,T as $,d as B,e as K,f as W,h as q,u as G,j as H,q as J,k as Y,l as X,s as Z,m as Q,n as ee,E as te,r as re,o as se,p as ae,t as ne,w as oe,v as ie,x as ce,y as le,z as de,A as ue,G as me,B as he,C as pe}from"./firebase-rW0Qch21.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var fe,xe={};var ge=function(){if(fe)return xe;fe=1;var e=T();return xe.createRoot=e.createRoot,xe.hydrateRoot=e.hydrateRoot,xe}();const we={},ye=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=r?.nonce||r?.getAttribute("nonce");s=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in we)return;we[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,a&&s.setAttribute("nonce",a),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})};let ve=0;const be=new Map,je=e=>{if(be.has(e))return;const t=setTimeout(()=>{be.delete(e),Ce({type:"REMOVE_TOAST",toastId:e})},1e6);be.set(e,t)},Ee=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?je(r):e.toasts.forEach(e=>{je(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},Ne=[];let Te={toasts:[]};function Ce(e){Te=Ee(Te,e),Ne.forEach(e=>{e(Te)})}function Se({...e}){const t=(ve=(ve+1)%Number.MAX_SAFE_INTEGER,ve.toString()),r=()=>Ce({type:"DISMISS_TOAST",toastId:t});return Ce({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>Ce({type:"UPDATE_TOAST",toast:{...e,id:t}})}}var Pe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Le=g.forwardRef((e,t)=>r.jsx(s.span,{...e,ref:t,style:{...Pe,...e.style}}));Le.displayName="VisuallyHidden";var Re="ToastProvider",[Ae,De,ke]=n("Toast"),[_e]=a("Toast",[ke]),[Ie,Oe]=_e(Re),Ue=e=>{const{__scopeToast:t,label:s="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:o=50,children:i}=e,[c,l]=g.useState(null),[d,u]=g.useState(0),m=g.useRef(!1),h=g.useRef(!1);return s.trim(),r.jsx(Ae.Provider,{scope:t,children:r.jsx(Ie,{scope:t,label:s,duration:a,swipeDirection:n,swipeThreshold:o,toastCount:d,viewport:c,onViewportChange:l,onToastAdd:g.useCallback(()=>u(e=>e+1),[]),onToastRemove:g.useCallback(()=>u(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:i})})};Ue.displayName=Re;var Me="ToastViewport",Fe=["F8"],ze="toast.viewportPause",Ve="toast.viewportResume",$e=g.forwardRef((e,t)=>{const{__scopeToast:a,hotkey:n=Fe,label:c="Notifications ({hotkey})",...l}=e,d=Oe(Me,a),u=De(a),m=g.useRef(null),h=g.useRef(null),p=g.useRef(null),f=g.useRef(null),x=o(t,f,d.onViewportChange),w=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=d.toastCount>0;g.useEffect(()=>{const e=e=>{0!==n.length&&n.every(t=>e[t]||e.code===t)&&f.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),g.useEffect(()=>{const e=m.current,t=f.current;if(y&&e&&t){const r=()=>{if(!d.isClosePausedRef.current){const e=new CustomEvent(ze);t.dispatchEvent(e),d.isClosePausedRef.current=!0}},s=()=>{if(d.isClosePausedRef.current){const e=new CustomEvent(Ve);t.dispatchEvent(e),d.isClosePausedRef.current=!1}},a=t=>{!e.contains(t.relatedTarget)&&s()},n=()=>{e.contains(document.activeElement)||s()};return e.addEventListener("focusin",r),e.addEventListener("focusout",a),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",n),window.addEventListener("blur",r),window.addEventListener("focus",s),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",a),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",n),window.removeEventListener("blur",r),window.removeEventListener("focus",s)}}},[y,d.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:e})=>{const t=u().map(t=>{const r=t.ref.current,s=[r,...ot(r)];return"forwards"===e?s:s.reverse()});return("forwards"===e?t.reverse():t).flat()},[u]);return g.useEffect(()=>{const e=f.current;if(e){const t=t=>{const r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){const r=document.activeElement,s=t.shiftKey;if(t.target===e&&s)return void h.current?.focus();const a=v({tabbingDirection:s?"backwards":"forwards"}),n=a.findIndex(e=>e===r);it(a.slice(n+1))?t.preventDefault():s?h.current?.focus():p.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[u,v]),r.jsxs(i,{ref:m,role:"region","aria-label":c.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&r.jsx(Ke,{ref:h,onFocusFromOutsideViewport:()=>{it(v({tabbingDirection:"forwards"}))}}),r.jsx(Ae.Slot,{scope:a,children:r.jsx(s.ol,{tabIndex:-1,...l,ref:x})}),y&&r.jsx(Ke,{ref:p,onFocusFromOutsideViewport:()=>{it(v({tabbingDirection:"backwards"}))}})]})});$e.displayName=Me;var Be="ToastFocusProxy",Ke=g.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...n}=e,o=Oe(Be,s);return r.jsx(Le,{tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;!o.viewport?.contains(t)&&a()}})});Ke.displayName=Be;var We="Toast",qe=g.forwardRef((e,t)=>{const{forceMount:s,open:a,defaultOpen:n,onOpenChange:o,...i}=e,[m,h]=c({prop:a,defaultProp:n??!0,onChange:o,caller:We});return r.jsx(l,{present:s||m,children:r.jsx(Je,{open:m,...i,ref:t,onClose:()=>h(!1),onPause:u(e.onPause),onResume:u(e.onResume),onSwipeStart:d(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:d(e.onSwipeMove,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)}),onSwipeCancel:d(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:d(e.onSwipeEnd,e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),h(!1)})})})});qe.displayName=We;var[Ge,He]=_e(We,{onClose(){}}),Je=g.forwardRef((e,t)=>{const{__scopeToast:a,type:n="foreground",duration:i,open:c,onClose:l,onEscapeKeyDown:h,onPause:p,onResume:f,onSwipeStart:x,onSwipeMove:y,onSwipeCancel:v,onSwipeEnd:b,...j}=e,E=Oe(We,a),[N,T]=g.useState(null),C=o(t,e=>T(e)),S=g.useRef(null),P=g.useRef(null),L=i||E.duration,R=g.useRef(0),A=g.useRef(L),D=g.useRef(0),{onToastAdd:k,onToastRemove:_}=E,I=u(()=>{const e=N?.contains(document.activeElement);e&&E.viewport?.focus(),l()}),O=g.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(D.current),R.current=(new Date).getTime(),D.current=window.setTimeout(I,e))},[I]);g.useEffect(()=>{const e=E.viewport;if(e){const t=()=>{O(A.current),f?.()},r=()=>{const e=(new Date).getTime()-R.current;A.current=A.current-e,window.clearTimeout(D.current),p?.()};return e.addEventListener(ze,r),e.addEventListener(Ve,t),()=>{e.removeEventListener(ze,r),e.removeEventListener(Ve,t)}}},[E.viewport,L,p,f,O]),g.useEffect(()=>{c&&!E.isClosePausedRef.current&&O(L)},[c,L,E.isClosePausedRef,O]),g.useEffect(()=>(k(),()=>_()),[k,_]);const U=g.useMemo(()=>N?st(N):null,[N]);return E.viewport?r.jsxs(r.Fragment,{children:[U&&r.jsx(Ye,{__scopeToast:a,role:"status","aria-live":"foreground"===n?"assertive":"polite",children:U}),r.jsx(Ge,{scope:a,onClose:I,children:w.createPortal(r.jsx(Ae.ItemSlot,{scope:a,children:r.jsx(m,{asChild:!0,onEscapeKeyDown:d(h,()=>{E.isFocusedToastEscapeKeyDownRef.current||I(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(s.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":E.swipeDirection,...j,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:d(e.onKeyDown,e=>{"Escape"===e.key&&(h?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:d(e.onPointerDown,e=>{0===e.button&&(S.current={x:e.clientX,y:e.clientY})}),onPointerMove:d(e.onPointerMove,e=>{if(!S.current)return;const t=e.clientX-S.current.x,r=e.clientY-S.current.y,s=Boolean(P.current),a=["left","right"].includes(E.swipeDirection),n=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,o=a?n(0,t):0,i=a?0:n(0,r),c="touch"===e.pointerType?10:2,l={x:o,y:i},d={originalEvent:e,delta:l};s?(P.current=l,at("toast.swipeMove",y,d,{discrete:!1})):nt(l,E.swipeDirection,c)?(P.current=l,at("toast.swipeStart",x,d,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>c||Math.abs(r)>c)&&(S.current=null)}),onPointerUp:d(e.onPointerUp,e=>{const t=P.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),P.current=null,S.current=null,t){const r=e.currentTarget,s={originalEvent:e,delta:t};nt(t,E.swipeDirection,E.swipeThreshold)?at("toast.swipeEnd",b,s,{discrete:!0}):at("toast.swipeCancel",v,s,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),Ye=e=>{const{__scopeToast:t,children:s,...a}=e,n=Oe(We,t),[o,i]=g.useState(!1),[c,l]=g.useState(!1);return function(e=()=>{}){const t=u(e);p(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}(()=>i(!0)),g.useEffect(()=>{const e=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(e)},[]),c?null:r.jsx(h,{asChild:!0,children:r.jsx(Le,{...a,children:o&&r.jsxs(r.Fragment,{children:[n.label," ",s]})})})},Xe=g.forwardRef((e,t)=>{const{__scopeToast:a,...n}=e;return r.jsx(s.div,{...n,ref:t})});Xe.displayName="ToastTitle";var Ze=g.forwardRef((e,t)=>{const{__scopeToast:a,...n}=e;return r.jsx(s.div,{...n,ref:t})});Ze.displayName="ToastDescription";var Qe=g.forwardRef((e,t)=>{const{altText:s,...a}=e;return s.trim()?r.jsx(rt,{altText:s,asChild:!0,children:r.jsx(tt,{...a,ref:t})}):null});Qe.displayName="ToastAction";var et="ToastClose",tt=g.forwardRef((e,t)=>{const{__scopeToast:a,...n}=e,o=He(et,a);return r.jsx(rt,{asChild:!0,children:r.jsx(s.button,{type:"button",...n,ref:t,onClick:d(e.onClick,o.onClose)})})});tt.displayName=et;var rt=g.forwardRef((e,t)=>{const{__scopeToast:a,altText:n,...o}=e;return r.jsx(s.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function st(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,s=""===e.dataset.radixToastAnnounceExclude;if(!r)if(s){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...st(e))}}),t}function at(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?f(a,n):a.dispatchEvent(n)}var nt=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),n=s>a;return"left"===t||"right"===t?n&&s>r:!n&&a>r};function ot(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function it(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var ct=$e,lt=qe,dt=Xe,ut=Ze,mt=Qe,ht=tt;function pt(...e){return C(S(e))}const ft=Ue,xt=g.forwardRef(({className:e,...t},s)=>r.jsx(ct,{ref:s,className:pt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));xt.displayName=ct.displayName;const gt=P("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wt=g.forwardRef(({className:e,variant:t,...s},a)=>r.jsx(lt,{ref:a,className:pt(gt({variant:t}),e),...s}));wt.displayName=lt.displayName;g.forwardRef(({className:e,...t},s)=>r.jsx(mt,{ref:s,className:pt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=mt.displayName;const yt=g.forwardRef(({className:e,...t},s)=>r.jsx(ht,{ref:s,className:pt("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(L,{className:"h-4 w-4"})}));yt.displayName=ht.displayName;const vt=g.forwardRef(({className:e,...t},s)=>r.jsx(dt,{ref:s,className:pt("text-sm font-semibold [&+div]:text-xs",e),...t}));vt.displayName=dt.displayName;const bt=g.forwardRef(({className:e,...t},s)=>r.jsx(ut,{ref:s,className:pt("text-sm opacity-90",e),...t}));function jt(){const{toasts:e}=function(){const[e,t]=g.useState(Te);return g.useEffect(()=>(Ne.push(t),()=>{const e=Ne.indexOf(t);e>-1&&Ne.splice(e,1)}),[e]),{...e,toast:Se,dismiss:e=>Ce({type:"DISMISS_TOAST",...e&&{toastId:e}})}}();return r.jsxs(ft,{children:[e.map(function({id:e,title:t,description:s,action:a,...n}){return r.jsxs(wt,{...n,children:[r.jsxs("div",{className:"grid gap-1",children:[t&&r.jsx(vt,{children:t}),s&&r.jsx(bt,{children:s})]}),a,r.jsx(yt,{})]},e)}),r.jsx(xt,{})]})}bt.displayName=ut.displayName;const Et=U({apiKey:void 0,authDomain:void 0,databaseURL:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0}),Nt=M(Et);F(Et),z(Et),V(Et);class Tt{constructor(){t(this,"db",F()),t(this,"auth",M())}handleError(e,t){if(e instanceof Error)throw new Error(`${t} failed: ${e.message}`);throw new Error(`${t} failed: Unknown error`)}getCurrentUserId(){const e=this.auth.currentUser;if(!e)throw new Error("User not authenticated");return e.uid}timestampToDate(e){return e instanceof $||e?.toDate?e.toDate():new Date(e)}addAuditFields(e,t=!1){const r=$.now(),s=this.getCurrentUserId();return t?{...e,updatedAt:r,updatedBy:s}:{...e,createdAt:r,updatedAt:r,createdBy:s,updatedBy:s}}async createDocument(e,t){try{const r=this.addAuditFields(t);return{id:(await B(K(this.db,e),r)).id,...r}}catch(r){this.handleError(r,`create ${e}`)}}async getDocument(e,t){try{const r=W(this.db,e,t),s=await q(r);if(!s.exists())return null;const a=s.data();return{id:s.id,...a,createdAt:this.timestampToDate(a.createdAt),updatedAt:this.timestampToDate(a.updatedAt)}}catch(r){this.handleError(r,`get ${e}`)}}async updateDocument(e,t,r){try{const s=W(this.db,e,t),a=this.addAuditFields(r,!0);await G(s,a)}catch(s){this.handleError(s,`update ${e}`)}}async deleteDocument(e,t){try{const r=W(this.db,e,t);await H(r)}catch(r){this.handleError(r,`delete ${e}`)}}async queryDocuments(e,t=[]){try{const r=J(K(this.db,e),...t);return(await Y(r)).docs.map(e=>{const t=e.data();return{id:e.id,...t,createdAt:this.timestampToDate(t.createdAt),updatedAt:this.timestampToDate(t.updatedAt)}})}catch(r){this.handleError(r,`query ${e}`)}}async queryDocumentsWithPagination(e,t=[],r=20,s){try{let a=[...t,X(r+1)];s&&a.push(Z(s));const n=J(K(this.db,e),...a),o=(await Y(n)).docs,i=o.length>r,c=o.slice(0,r);return{data:c.map(e=>{const t=e.data();return{id:e.id,...t,createdAt:this.timestampToDate(t.createdAt),updatedAt:this.timestampToDate(t.updatedAt)}}),hasMore:i,...i&&{lastDoc:o[r-1]}}}catch(a){this.handleError(a,`paginated query ${e}`)}}}class Ct extends Tt{constructor(){super(...arguments),t(this,"COLLECTION_NAME","users")}async createUserProfile(e){try{const t={email:e.email,displayName:e.displayName||"",...e.photoURL&&{photoURL:e.photoURL},bio:"",website:"",location:"",phone:"",company:"",jobTitle:"",subscription:"free",socialLinks:{github:"",twitter:"",linkedin:""},isEmailVerified:e.emailVerified,lastLoginAt:new Date,preferences:{theme:"system",notifications:{email:!0,push:!0,security:!0,marketing:!1},privacy:{profileVisibility:"public",showEmail:!1,showLocation:!1}}},r=W(this.db,this.COLLECTION_NAME,e.uid),s=this.addAuditFields(t);return await Q(r,s),{id:e.uid,...s,createdAt:this.timestampToDate(s.createdAt),updatedAt:this.timestampToDate(s.updatedAt)}}catch(t){this.handleError(t,"createUserProfile")}}async getUserProfile(e){try{const t=e||this.getCurrentUserId();return await this.getDocument(this.COLLECTION_NAME,t)}catch(t){this.handleError(t,"getUserProfile")}}async updateUserProfile(e,t){try{const r=this.auth.currentUser;if(r&&r.uid===e&&(void 0!==t.displayName||void 0!==t.photoURL)){const e={};void 0!==t.displayName&&(e.displayName=t.displayName),void 0!==t.photoURL&&(e.photoURL=t.photoURL),await ee(r,e)}await this.updateDocument(this.COLLECTION_NAME,e,t);const s=await this.getUserProfile(e);if(!s)throw new Error("Failed to retrieve updated profile");return s}catch(r){this.handleError(r,"updateUserProfile")}}async updatePreferences(e){try{const t=this.getCurrentUserId(),r=await this.getUserProfile(t);if(!r)throw new Error("User profile not found");const s={...r.preferences,...e,notifications:{...r.preferences.notifications,...e.notifications},privacy:{...r.preferences.privacy,...e.privacy}};await this.updateDocument(this.COLLECTION_NAME,t,{preferences:s})}catch(t){this.handleError(t,"updatePreferences")}}async updateLastLogin(){try{const e=this.getCurrentUserId();await this.updateDocument(this.COLLECTION_NAME,e,{lastLoginAt:new Date})}catch(e){this.handleError(e,"updateLastLogin")}}async changePassword(e){try{const t=this.auth.currentUser;if(!t||!t.email)throw new Error("User not authenticated");const r=te.credential(t.email,e.currentPassword);await re(t,r),await se(t,e.newPassword)}catch(t){this.handleError(t,"changePassword")}}async sendEmailVerification(){try{const e=this.auth.currentUser;if(!e)throw new Error("User not authenticated");await ae(e)}catch(e){this.handleError(e,"sendEmailVerification")}}async deleteUserAccount(e){try{const t=this.auth.currentUser;if(!t||!t.email)throw new Error("User not authenticated");const r=te.credential(t.email,e);await re(t,r);const s=t.uid;await this.deleteDocument(this.COLLECTION_NAME,s),await ne(t)}catch(t){this.handleError(t,"deleteUserAccount")}}async searchUsers(e,t=10){try{return(await this.queryDocuments(this.COLLECTION_NAME,[oe("preferences.privacy.profileVisibility","==","public"),ie("displayName")])).filter(t=>t.displayName.toLowerCase().includes(e.toLowerCase())||t.email.toLowerCase().includes(e.toLowerCase())).slice(0,t)}catch(r){this.handleError(r,"searchUsers")}}async getPublicProfiles(e=20){try{return await this.queryDocuments(this.COLLECTION_NAME,[oe("preferences.privacy.profileVisibility","==","public"),ie("createdAt","desc")])}catch(t){return this.handleError(t,"getPublicProfiles")}}async userProfileExists(e){try{const t=e||this.getCurrentUserId();return null!==await this.getUserProfile(t)}catch(t){return!1}}async createOrUpdateUser(e){try{const t={id:e.id,email:e.email,displayName:e.displayName,...e.photoURL?{photoURL:e.photoURL}:{},bio:"",website:"",location:"",phone:e.phone||"",company:e.company||"",jobTitle:e.jobTitle||"",subscription:e.subscription||"free",socialLinks:e.socialLinks||{github:"",twitter:"",linkedin:""},isEmailVerified:!1,lastLoginAt:new Date,createdAt:e.createdAt,updatedAt:e.updatedAt,preferences:{theme:"system",notifications:{email:!0,push:!0,security:!0,marketing:!1},privacy:{profileVisibility:"public",showEmail:!1,showLocation:!1}}};return await Q(W(this.db,"users",e.id),t),t}catch(t){this.handleError(t,"create/update user")}}async deleteUser(e){try{await this.deleteDocument("users",e)}catch(t){this.handleError(t,"delete user")}}}const St=g.createContext(void 0);function Pt({children:e}){const[t,s]=g.useState(null),[a,n]=g.useState(null),[o,i]=g.useState(!0),[c,l]=g.useState(null),d=new Ct,u=async e=>{try{const r=await d.getUserProfile(e);n(r),t&&r&&s({...t,profile:r})}catch(r){n(null)}};g.useEffect(()=>ce(Nt,async e=>{if(e){s(e),await u(e.uid)}else s(null),n(null);i(!1)}),[]);const m={user:t,userProfile:a,loading:o,error:c,isAuthenticated:!!t,hasProfile:!!a,signInWithEmail:async e=>{try{i(!0),l(null),await pe(Nt,e.email,e.password)}catch(t){throw l(t.message),t}finally{i(!1)}},signInWithGoogle:async()=>{try{i(!0),l(null);const e=new me,t=await he(Nt,e);t.user&&await d.createOrUpdateUser({id:t.user.uid,email:t.user.email,displayName:t.user.displayName||"",...t.user.photoURL&&{photoURL:t.user.photoURL},subscription:"free",createdAt:new Date,updatedAt:new Date})}catch(e){throw l(e.message),e}finally{i(!1)}},signUpWithEmail:async e=>{try{i(!0),l(null);const t=await ue(Nt,e.email,e.password);t.user&&(await ee(t.user,{displayName:e.displayName}),await d.createOrUpdateUser({id:t.user.uid,email:e.email,displayName:e.displayName,subscription:"free",createdAt:new Date,updatedAt:new Date}))}catch(t){throw l(t.message),t}finally{i(!1)}},signOut:async()=>{try{i(!0),l(null),await de(Nt),s(null),n(null)}catch(e){throw l(e.message),e}finally{i(!1)}},resetPassword:async e=>{try{l(null),await le(Nt,e)}catch(t){throw l(t.message),t}},updatePassword:async e=>{try{if(l(null),!t)throw new Error("No user logged in");await se(t,e)}catch(r){throw l(r.message),r}},deleteAccount:async()=>{try{if(l(null),!t)throw new Error("No user logged in");await d.deleteUser(t.uid),await ne(t),s(null),n(null)}catch(e){throw l(e.message),e}},updateUserProfile:async e=>{try{if(l(null),!t)throw new Error("No user logged in");const r=await d.updateUserProfile(t.uid,e);n(r),s({...t,profile:r})}catch(r){throw l(r.message),r}},refreshProfile:async()=>{t&&await u(t.uid)},clearError:()=>{l(null)}};return r.jsx(St.Provider,{value:m,children:e})}function Lt(){const e=g.useContext(St);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}const Rt=g.createContext(void 0);function At({children:e,defaultTheme:t="system",storageKey:s="stich-theme"}){const[a,n]=g.useState(()=>localStorage.getItem(s)||t),[o,i]=g.useState("light");return g.useEffect(()=>{const e=window.document.documentElement;e.classList.remove("light","dark");let t="light";t="system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a,e.classList.add(t),i(t)},[a]),g.useEffect(()=>{localStorage.setItem(s,a)},[a,s]),r.jsx(Rt.Provider,{value:{theme:a,setTheme:n,resolvedTheme:o},children:e})}const Dt={success:{container:"bg-green-50 border-green-200 text-green-800",icon:k,iconColor:"text-green-500"},error:{container:"bg-red-50 border-red-200 text-red-800",icon:D,iconColor:"text-red-500"},warning:{container:"bg-yellow-50 border-yellow-200 text-yellow-800",icon:A,iconColor:"text-yellow-500"},info:{container:"bg-blue-50 border-blue-200 text-blue-800",icon:R,iconColor:"text-blue-500"}};function kt({notification:e,onClose:t}){const[s,a]=g.useState(!1),[n,o]=g.useState(!1),i=Dt[e.type],c=i.icon;g.useEffect(()=>{const e=setTimeout(()=>a(!0),10);return()=>clearTimeout(e)},[]);return r.jsxs("div",{className:pt("relative max-w-sm w-full bg-white border rounded-lg shadow-lg p-4 transition-all duration-200 transform",i.container,s&&!n?"translate-x-0 opacity-100":"translate-x-full opacity-0",n&&"-translate-x-full opacity-0"),children:[r.jsx("button",{onClick:()=>{o(!0),setTimeout(()=>{t()},200)},className:"absolute top-2 right-2 p-1 rounded-full hover:bg-black/10 transition-colors","aria-label":"Close notification",children:r.jsx(L,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(c,{className:pt("w-5 h-5 mt-0.5 flex-shrink-0",i.iconColor)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-sm font-medium mb-1",children:e.title}),r.jsx("p",{className:"text-sm opacity-90",children:e.message}),e.action&&r.jsx("button",{onClick:e.action.onClick,className:"mt-2 text-xs font-medium underline hover:no-underline transition-all",children:e.action.label}),r.jsx("div",{className:"mt-2 text-xs opacity-70",children:e.timestamp.toLocaleTimeString()})]})]}),!e.persistent&&e.duration&&e.duration>0&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/10 rounded-b-lg overflow-hidden",children:r.jsx("div",{className:"h-full bg-current opacity-50 animate-pulse",style:{width:"100%",transition:`width ${e.duration}ms linear`,animationDuration:`${e.duration}ms`}})})]})}const _t=g.createContext(void 0);function It(){const e=g.useContext(_t);if(void 0===e)throw new Error("useNotifications must be used within a NotificationProvider");return e}function Ot({children:e}){const[t,s]=g.useState([]),a=g.useCallback(()=>`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,[]),n=g.useCallback(e=>{const t=a(),r={...e,id:t,timestamp:new Date,duration:e.duration??5e3};return s(e=>[r,...e]),!r.persistent&&r.duration&&r.duration>0&&setTimeout(()=>{o(t)},r.duration),t},[a]),o=g.useCallback(e=>{s(t=>t.filter(t=>t.id!==e))},[]),i=g.useCallback(()=>{s([])},[]),c=g.useCallback((e,t,r)=>n({type:"success",title:e,message:t,...r}),[n]),l=g.useCallback((e,t,r)=>n({type:"error",title:e,message:t,persistent:r?.persistent??!0,...r}),[n]),d=g.useCallback((e,t,r)=>n({type:"warning",title:e,message:t,...r}),[n]),u=g.useCallback((e,t,r)=>n({type:"info",title:e,message:t,...r}),[n]),m={notifications:t,addNotification:n,removeNotification:o,clearAllNotifications:i,showSuccess:c,showError:l,showWarning:d,showInfo:u};return r.jsxs(_t.Provider,{value:m,children:[e,r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:t.slice(0,5).map(e=>r.jsx(kt,{notification:e,onClose:()=>o(e.id)},e.id))}),t.length>5&&r.jsxs("div",{className:"fixed top-4 right-4 z-40 bg-gray-800 text-white text-xs px-2 py-1 rounded-full",children:["+",t.length-5," more"]})]})}const Ut={theme:"system",language:"en",fontSize:"medium",reducedMotion:!1,editorTheme:"vs-dark",editorFontSize:14,editorTabSize:2,editorWordWrap:!0,editorMinimap:!0,preferredAIProvider:"openai",aiModel:"gpt-4o",creativityLevel:.7,codeStyle:"documented",analytics:!0,crashReporting:!0,usageData:!0,marketingEmails:!1,autoSave:!0,autoPreview:!1,showLineNumbers:!0,enableLinting:!0,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,dateFormat:"MM/DD/YYYY",timeFormat:"12h"},Mt=g.createContext(void 0);function Ft(){const e=g.useContext(Mt);if(void 0===e)throw new Error("useSettings must be used within a SettingsProvider");return e}function zt({children:e}){const[t,s]=g.useState(Ut),[a,n]=g.useState(!0),{showSuccess:o,showError:i}=It();g.useEffect(()=>{c()},[]),g.useEffect(()=>{f(t.theme)},[t.theme]),g.useEffect(()=>{x(t.fontSize)},[t.fontSize]),g.useEffect(()=>{w(t.reducedMotion)},[t.reducedMotion]);const c=async()=>{try{n(!0);const e=localStorage.getItem("user-settings");if(e){const t=JSON.parse(e);s({...Ut,...t})}}catch(e){i("Settings Error","Failed to load your settings. Using defaults.")}finally{n(!1)}},l=async e=>{try{return localStorage.setItem("user-settings",JSON.stringify(e)),!0}catch(t){return i("Save Failed","Unable to save your settings. Please try again."),!1}},d=g.useCallback(async(e,r)=>{const a={...t,[e]:r};s(a);await l(a)&&o("Settings Updated",`${e} has been updated successfully.`)},[t,l,o]),u=g.useCallback(async e=>{const r={...t,...e};s(r);await l(r)&&o("Settings Updated","Your preferences have been saved.")},[t,l,o]),m=g.useCallback(async()=>{s(Ut);await l(Ut)&&o("Settings Reset","All settings have been reset to defaults.")},[l,o]),h=g.useCallback(()=>JSON.stringify(t,null,2),[t]),p=g.useCallback(async e=>{try{const t=JSON.parse(e),r={...Ut,...t};s(r);const a=await l(r);return a&&o("Settings Imported","Your settings have been imported successfully."),a}catch(t){return i("Import Failed","Invalid settings file. Please check the format and try again."),!1}},[l,o,i]),f=e=>{const t=document.documentElement;if("system"===e){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;t.classList.toggle("dark",e)}else t.classList.toggle("dark","dark"===e)},x=e=>{document.documentElement.style.fontSize={small:"14px",medium:"16px",large:"18px"}[e]},w=e=>{document.documentElement.classList.toggle("reduce-motion",e)},y={settings:t,updateSetting:d,updateSettings:u,resetSettings:m,exportSettings:h,importSettings:p,loading:a};return r.jsx(Mt.Provider,{value:y,children:e})}const Vt=g.createContext(void 0);function $t(){const e=g.useContext(Vt);if(void 0===e)throw new Error("useSearch must be used within a SearchProvider");return e}function Bt({children:e}){const[t,s]=g.useState(""),[a,n]=g.useState([]),[o,i]=g.useState({sortBy:"relevance",sortOrder:"desc"}),[c,l]=g.useState(!1),[d,u]=g.useState(!1),[m,h]=g.useState(0),[p,f]=g.useState([]),[x,w]=g.useState([]),[y,v]=g.useState(1),{showError:b}=It();g.useEffect(()=>{const e=localStorage.getItem("recent-searches");if(e)try{f(JSON.parse(e))}catch(t){}j()},[]),g.useEffect(()=>{localStorage.setItem("recent-searches",JSON.stringify(p))},[p]);const j=async()=>{try{w(["React components","E-commerce template","Dashboard app","Landing page","Portfolio website","Blog template","Chat application","Authentication"])}catch(e){}},E=g.useCallback(async(e,t={})=>{if(!e.trim())return n([]),h(0),void u(!1);l(!0),s(e);const r={filters:{...o,...t.filters},page:t.page||1,limit:t.limit||20,includeContent:t.includeContent||!1,fuzzySearch:!1!==t.fuzzySearch};try{const t=await Kt(e,r);1===r.page?(n(t.results),v(1)):(n(e=>[...e,...t.results]),v(r.page)),h(t.total),u(t.hasMore),P(e)}catch(a){b("Search Error","Failed to perform search. Please try again."),n([]),h(0),u(!1)}finally{l(!1)}},[o,b]),N=g.useCallback(()=>{s(""),n([]),h(0),u(!1),v(1)},[]),T=g.useCallback(e=>{i(t=>({...t,...e})),t&&E(t,{filters:e,page:1})},[t,E]),C=g.useCallback(async()=>{d&&!c&&t&&await E(t,{page:y+1})},[d,c,t,y,E]),S=g.useCallback(async e=>{if(!e.trim())return[];try{const t=await async function(e){await new Promise(e=>setTimeout(e,200));const t=["React components","React dashboard","React e-commerce","React authentication","React charts","Next.js template","Next.js blog","Next.js landing page","TypeScript app","TypeScript components"];return t.filter(t=>t.toLowerCase().includes(e.toLowerCase())).slice(0,6)}(e);return t}catch(t){return[]}},[]),P=g.useCallback(e=>{const t=e.trim().toLowerCase();t&&f(e=>{const r=e.filter(e=>e.toLowerCase()!==t);return[t,...r].slice(0,10)})},[]),L=g.useCallback(()=>{f([])},[]),R=g.useCallback(async(e,t)=>{try{const r={filters:t?{type:[t]}:{},page:1,limit:5,fuzzySearch:!0};return(await Kt(e,r)).results}catch(r){return[]}},[]),A={query:t,results:a,filters:o,loading:c,hasMore:d,totalResults:m,recentSearches:p,popularSearches:x,search:E,clearSearch:N,updateFilters:T,loadMore:C,getSuggestions:S,addRecentSearch:P,clearRecentSearches:L,quickSearch:R};return r.jsx(Vt.Provider,{value:A,children:e})}async function Kt(e,t){await new Promise(e=>setTimeout(e,500+500*Math.random()));const r=[...[{id:"1",type:"app",title:"E-commerce Dashboard",description:"Modern React e-commerce dashboard with analytics and inventory management",url:"/apps/ecommerce-dashboard",thumbnail:"/thumbnails/ecommerce-dashboard.jpg",tags:["react","ecommerce","dashboard","analytics"],category:"Business",author:{id:"user1",name:"John Doe",avatar:"/avatars/john-doe.jpg"},createdAt:new Date("2024-10-01"),updatedAt:new Date("2024-10-03"),metadata:{framework:"React",language:"TypeScript",difficulty:"intermediate",rating:4.8,downloads:1234,likes:89}},{id:"2",type:"template",title:"Landing Page Template",description:"Beautiful responsive landing page template with animations",url:"/templates/landing-page",thumbnail:"/thumbnails/landing-page.jpg",tags:["landing","template","responsive","animations"],category:"Marketing",author:{id:"user2",name:"Jane Smith",avatar:"/avatars/jane-smith.jpg"},createdAt:new Date("2024-09-28"),updatedAt:new Date("2024-10-02"),metadata:{framework:"Next.js",language:"TypeScript",difficulty:"beginner",rating:4.6,downloads:2156,likes:145}},{id:"3",type:"app",title:"Chat Application",description:"Real-time chat application with file sharing and emoji support",url:"/apps/chat-app",thumbnail:"/thumbnails/chat-app.jpg",tags:["chat","realtime","messaging","file-sharing"],category:"Communication",author:{id:"user3",name:"Mike Johnson",avatar:"/avatars/mike-johnson.jpg"},createdAt:new Date("2024-09-25"),updatedAt:new Date("2024-10-01"),metadata:{framework:"React",language:"JavaScript",difficulty:"advanced",rating:4.9,downloads:987,likes:203}}].filter(r=>!!(r.title.toLowerCase().includes(e.toLowerCase())||r.description.toLowerCase().includes(e.toLowerCase())||r.tags.some(t=>t.toLowerCase().includes(e.toLowerCase())))&&(!(t.filters.type&&!t.filters.type.includes(r.type))&&(!(t.filters.category&&!t.filters.category.includes(r.category))&&!(t.filters.framework&&r.metadata?.framework&&!t.filters.framework.includes(r.metadata.framework)))))].sort((e,r)=>{const{sortBy:s="relevance",sortOrder:a="desc"}=t.filters,n="asc"===a?1:-1;switch(s){case"date":return(new Date(r.updatedAt).getTime()-new Date(e.updatedAt).getTime())*n;case"rating":return((r.metadata?.rating||0)-(e.metadata?.rating||0))*n;case"downloads":return((r.metadata?.downloads||0)-(e.metadata?.downloads||0))*n;case"alphabetical":return e.title.localeCompare(r.title)*n;default:return 0}}),s=(t.page-1)*t.limit;return{results:r.slice(s,s+t.limit),total:r.length,hasMore:s+t.limit<r.length}}function Wt({children:e,enableReporting:t=!0}){const{setupGlobalHandlers:s}=function(){const{showError:e}=It();return{setupGlobalHandlers:g.useCallback(()=>{const t=t=>{e("Unexpected Error","An unexpected error occurred. Please refresh the page if the problem persists.",{persistent:!0}),t.preventDefault()},r=t=>{e("Application Error","A critical error occurred. Please refresh the page.",{persistent:!0})};return window.addEventListener("unhandledrejection",t),window.addEventListener("error",r),()=>{window.removeEventListener("unhandledrejection",t),window.removeEventListener("error",r)}},[e])}}(),{showError:a}=It();return g.useEffect(()=>s(),[s,a,t]),r.jsx(r.Fragment,{children:e})}const qt=P("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Gt=g.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...n},o)=>{const i=a?x:"button";return r.jsx(i,{className:pt(qt({variant:t,size:s,className:e})),ref:o,...n})});Gt.displayName="Button";const Ht=g.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:pt("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Ht.displayName="Card";const Jt=g.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:pt("flex flex-col space-y-1.5 p-6",e),...t}));Jt.displayName="CardHeader";const Yt=g.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:pt("font-semibold leading-none tracking-tight",e),...t}));Yt.displayName="CardTitle";const Xt=g.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:pt("text-sm text-muted-foreground",e),...t}));Xt.displayName="CardDescription";const Zt=g.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:pt("p-6 pt-0",e),...t}));Zt.displayName="CardContent";g.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:pt("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";class Qt extends g.Component{constructor(e){super(e),t(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:""})}),t(this,"handleReload",()=>{window.location.reload()}),t(this,"handleGoHome",()=>{window.location.href="/"}),t(this,"handleReportBug",()=>{const e=`Bug Report - ${this.state.errorId}`,t=`Error ID: ${this.state.errorId}\n\nError Message: ${this.state.error?.message}\n\nURL: ${window.location.href}\n\nSteps to reproduce:\n1. \n2. \n3. `,r=`mailto:support@stich.live?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(t)}`;window.open(r)}),this.state={hasError:!1,error:null,errorInfo:null,errorId:""}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),this.props.onError&&this.props.onError(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs(Ht,{className:"max-w-2xl w-full",children:[r.jsxs(Jt,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(A,{className:"w-8 h-8 text-red-600"})}),r.jsx(Yt,{className:"text-2xl text-red-700",children:"Something went wrong"}),r.jsx(Xt,{className:"text-gray-600",children:"We're sorry, but an unexpected error occurred. Our team has been notified."})]}),r.jsxs(Zt,{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("strong",{children:"Error ID:"})," ",this.state.errorId]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please include this ID when reporting the issue"})]}),this.props.showDetails&&this.state.error&&r.jsxs("details",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx("summary",{className:"text-sm font-medium text-red-700 cursor-pointer",children:"Technical Details"}),r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-red-600",children:"Error Message:"}),r.jsx("p",{className:"text-xs text-red-700 font-mono bg-red-100 p-2 rounded mt-1",children:this.state.error.message})]}),this.state.error.stack&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-red-600",children:"Stack Trace:"}),r.jsx("pre",{className:"text-xs text-red-700 font-mono bg-red-100 p-2 rounded mt-1 overflow-auto max-h-40",children:this.state.error.stack})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs(Gt,{onClick:this.handleRetry,className:"flex-1",children:[r.jsx(_,{className:"w-4 h-4 mr-2"}),"Try Again"]}),r.jsxs(Gt,{onClick:this.handleReload,variant:"outline",className:"flex-1",children:[r.jsx(_,{className:"w-4 h-4 mr-2"}),"Reload Page"]}),r.jsxs(Gt,{onClick:this.handleGoHome,variant:"outline",className:"flex-1",children:[r.jsx(I,{className:"w-4 h-4 mr-2"}),"Go Home"]}),r.jsxs(Gt,{onClick:this.handleReportBug,variant:"outline",className:"flex-1",children:[r.jsx(O,{className:"w-4 h-4 mr-2"}),"Report Bug"]})]}),r.jsxs("div",{className:"text-center text-sm text-gray-500",children:[r.jsx("p",{children:"If this problem persists, please contact our support team."}),r.jsx("p",{className:"mt-1",children:r.jsx("a",{href:"mailto:support@stich.live",className:"text-blue-600 hover:underline",children:"support@stich.live"})})]})]})]})}):this.props.children}}function er(){const{user:e,signOut:t}=Lt();return r.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:r.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[r.jsx(y,{to:"/",className:"text-2xl font-bold text-primary",children:"Stich"}),r.jsxs("nav",{className:"hidden md:flex space-x-6",children:[r.jsx(y,{to:"/dashboard",className:"text-sm font-medium hover:text-primary",children:"Dashboard"}),r.jsx(y,{to:"/gallery",className:"text-sm font-medium hover:text-primary",children:"Gallery"}),r.jsx(y,{to:"/search",className:"text-sm font-medium hover:text-primary",children:"Search"})]}),r.jsx("div",{className:"flex items-center space-x-4",children:e?r.jsxs(r.Fragment,{children:[r.jsx(y,{to:"/profile",children:r.jsx(Gt,{variant:"ghost",size:"sm",children:"Profile"})}),r.jsx(Gt,{variant:"outline",size:"sm",onClick:t,children:"Sign Out"})]}):r.jsxs(r.Fragment,{children:[r.jsx(y,{to:"/login",children:r.jsx(Gt,{variant:"ghost",size:"sm",children:"Sign In"})}),r.jsx(y,{to:"/register",children:r.jsx(Gt,{size:"sm",children:"Sign Up"})})]})})]})})}function tr(){return r.jsx("footer",{className:"border-t bg-background",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Stich"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered web application generator for modern developers."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold mb-4",children:"Product"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsx(y,{to:"/dashboard",className:"text-muted-foreground hover:text-primary",children:"Dashboard"})}),r.jsx("li",{children:r.jsx(y,{to:"/gallery",className:"text-muted-foreground hover:text-primary",children:"Gallery"})}),r.jsx("li",{children:r.jsx(y,{to:"/search",className:"text-muted-foreground hover:text-primary",children:"Search"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold mb-4",children:"Support"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsx(y,{to:"/help",className:"text-muted-foreground hover:text-primary",children:"Help Center"})}),r.jsx("li",{children:r.jsx(y,{to:"/api-docs",className:"text-muted-foreground hover:text-primary",children:"API Docs"})}),r.jsx("li",{children:r.jsx(y,{to:"/tutorials",className:"text-muted-foreground hover:text-primary",children:"Tutorials"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold mb-4",children:"Legal"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsx(y,{to:"/privacy",className:"text-muted-foreground hover:text-primary",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx(y,{to:"/terms",className:"text-muted-foreground hover:text-primary",children:"Terms of Service"})})]})]})]}),r.jsx("div",{className:"border-t mt-8 pt-8 text-center text-sm text-muted-foreground",children:r.jsx("p",{children:"Â© 2024 Stich Production. All rights reserved."})})]})})}function rr({children:e}){return r.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[r.jsx(er,{}),r.jsx("main",{className:"flex-1",children:e}),r.jsx(tr,{})]})}function sr({children:e}){const{isAuthenticated:t,loading:s}=Lt(),a=v();return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?r.jsx(r.Fragment,{children:e}):r.jsx(b,{to:"/login",state:{from:a},replace:!0})}const ar=g.lazy(()=>ye(()=>import("./HomePage-BLqfDnPa.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),nr=g.lazy(()=>ye(()=>import("./DashboardPage-D3p_Ng1k.js"),__vite__mapDeps([9,1,2,3,10,4,5,11,8,12,7,6]))),or=g.lazy(()=>ye(()=>import("./ChatPage-BD8ro-8q.js"),__vite__mapDeps([13,1,2,3,4,5,14,7,10,15,16,17,6,8]))),ir=g.lazy(()=>ye(()=>import("./LoginPage-DFco8spT.js"),__vite__mapDeps([18,1,2,3,10,15,5,4,19,11,8,6,7]))),cr=g.lazy(()=>ye(()=>import("./RegisterPage-CXOgWdbf.js"),__vite__mapDeps([20,1,2,3,10,15,5,4,19,11,8,6,7]))),lr=g.lazy(()=>ye(()=>import("./ProfilePage-CaJimnoO.js"),__vite__mapDeps([21,1,2,3,10,15,5,4,12,8,19,7,6]))),dr=g.lazy(()=>ye(()=>import("./Settings-WtIO2iG_.js"),__vite__mapDeps([22,1,2,3,15,5,16,17,7,10,14,4,8]))),ur=g.lazy(()=>ye(()=>import("./SearchPage-DzdUh-dz.js"),__vite__mapDeps([23,1,2,3,16,17,7,4,5,15,10,8]))),mr=g.lazy(()=>ye(()=>import("./DiscoveryPage-D7cPkADg.js"),__vite__mapDeps([24,1,2,3,4,5,7,8]))),hr=g.lazy(()=>ye(()=>import("./NotFoundPage-BtoCn4-m.js"),__vite__mapDeps([25,1,2,3,5,7,8]))),pr=g.lazy(()=>ye(()=>import("./WebContainerTest-CUpa0rcJ.js"),__vite__mapDeps([26,1,2,3,14,27,17,4,5,28,7,8])).then(e=>({default:e.WebContainerTest}))),fr=g.lazy(()=>ye(()=>import("./RealtimeGeneration-DGVGWRwf.js"),__vite__mapDeps([29,1,2,3,4,5,27,17,8,7])).then(e=>({default:e.RealtimeGeneration}))),xr=()=>r.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});function gr(){return r.jsx(Qt,{showDetails:!1,children:r.jsx(Wt,{children:r.jsx(At,{children:r.jsx(Pt,{children:r.jsx(Ot,{children:r.jsx(zt,{children:r.jsxs(Bt,{children:[r.jsx(rr,{children:r.jsx(g.Suspense,{fallback:r.jsx(xr,{}),children:r.jsxs(j,{children:[r.jsx(E,{path:"/",element:r.jsx(ar,{})}),r.jsx(E,{path:"/login",element:r.jsx(ir,{})}),r.jsx(E,{path:"/register",element:r.jsx(cr,{})}),r.jsx(E,{path:"/search",element:r.jsx(ur,{})}),r.jsx(E,{path:"/discovery",element:r.jsx(mr,{})}),r.jsx(E,{path:"/chat",element:r.jsx(or,{})}),r.jsx(E,{path:"/chat/:chatId",element:r.jsx(or,{})}),r.jsx(E,{path:"/webcontainer-test",element:r.jsx(pr,{})}),r.jsx(E,{path:"/realtime-test",element:r.jsx(fr,{})}),r.jsx(E,{path:"/dashboard",element:r.jsx(sr,{children:r.jsx(nr,{})})}),r.jsx(E,{path:"/profile",element:r.jsx(sr,{children:r.jsx(lr,{})})}),r.jsx(E,{path:"/settings",element:r.jsx(sr,{children:r.jsx(dr,{})})}),r.jsx(E,{path:"*",element:r.jsx(hr,{})})]})})}),r.jsx(jt,{})]})})})})})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{setInterval(()=>{e.update()},6e4)}).catch(e=>{})}),ge.createRoot(document.getElementById("root")).render(r.jsx(g.StrictMode,{children:r.jsx(N,{children:r.jsx(gr,{})})}));export{Gt as B,Ht as C,Ct as U,Pe as V,Jt as a,Yt as b,pt as c,Zt as d,Nt as e,Tt as f,Ft as g,It as h,Xt as i,$t as j,Et as k,Lt as u};
//# sourceMappingURL=index-BGFRk5FI.js.map
