import{j as e}from"./ui-CkyeGpnz.js";import{r as s}from"./router-Z_FdfUoj.js";import{u as t,U as a,C as l,B as i}from"./index-gdR5KnzF.js";import{I as r}from"./input-B63DkjxG.js";import{L as n}from"./label-kZJcJFvO.js";import{B as d}from"./badge-BDNqirPs.js";import{A as c}from"./ApplicationService-J7U9qj6F.js";import{t as o}from"./toast-6hGRIt6j.js";import{y as x,o as m,K as h,k as j,f as p,z as u,D as b,F as N,X as g,J as f,Z as y,E as v,m as w,N as k,O as A,Q as C,l as S,V as F,W as U,h as D}from"./icons-BXToiKVA.js";import{m as L}from"./animation-C79p8Q3a.js";import"./vendor-DEQ385Nk.js";import"./utils-Bmne0XXo.js";import"./firebase-vHDaWypJ.js";const P=()=>{const{user:P,updateUserProfile:T}=t(),[M,B]=s.useState("general"),[I,E]=s.useState(!1),[K,G]=s.useState(null),[z,V]=s.useState({totalApps:0,activeApps:0,totalViews:0,apiCalls:0,storageUsed:0,storageLimit:5e3}),[_,R]=s.useState([]),[W,$]=s.useState({displayName:"",email:"",phone:"",location:"",bio:"",website:"",github:"",twitter:"",linkedin:"",company:"",jobTitle:""}),[H,J]=s.useState({emailUpdates:!0,pushNotifications:!0,weeklyReports:!1,securityAlerts:!0,productUpdates:!0}),[O,Z]=s.useState({twoFactorEnabled:!1,sessionTimeout:24,passwordLastChanged:new Date}),[q,Q]=s.useState(!0),Y=new a,X=new c;s.useEffect(()=>{P&&ee()},[P]);const ee=async()=>{if(P)try{Q(!0);const e=await Y.getUserProfile(P.uid);e&&(G(e),$({displayName:e.displayName||P.displayName||"",email:e.email||P.email||"",phone:e.phone||"",location:e.location||"",bio:e.bio||"",website:e.website||"",github:e.socialLinks?.github||"",twitter:e.socialLinks?.twitter||"",linkedin:e.socialLinks?.linkedin||"",company:e.company||"",jobTitle:e.jobTitle||""}));const s=await X.getUserApplications(P.uid),t=s.filter(e=>"deployed"===e.status).length,a=s.reduce((e,s)=>e+(s.analytics?.views||0),0);V(e=>({...e,totalApps:s.length,activeApps:t,totalViews:a,apiCalls:Math.floor(1e4*Math.random()),storageUsed:Math.floor(2e3*Math.random())})),R([{id:"1",name:"Production Key",key:"sk_prod_"+Math.random().toString(36).substr(2,24),createdAt:new Date(Date.now()-2592e6),lastUsed:new Date(Date.now()-1728e5),isActive:!0},{id:"2",name:"Development Key",key:"sk_dev_"+Math.random().toString(36).substr(2,24),createdAt:new Date(Date.now()-6048e5),lastUsed:new Date(Date.now()-864e5),isActive:!0}])}catch(e){o.error("Failed to load profile data")}finally{Q(!1)}},se=async()=>{if(P)try{const e={displayName:W.displayName,phone:W.phone,location:W.location,bio:W.bio,website:W.website,company:W.company,jobTitle:W.jobTitle,socialLinks:{github:W.github,twitter:W.twitter,linkedin:W.linkedin}};await Y.updateUserProfile(P.uid,e),W.displayName!==P.displayName&&await T({displayName:W.displayName}),E(!1),o.success("Profile updated successfully!"),await ee()}catch(e){o.error("Failed to update profile")}},te=(e,s)=>{$(t=>({...t,[e]:s}))},ae=()=>{const e={id:Date.now().toString(),name:`API Key ${_.length+1}`,key:"sk_"+Math.random().toString(36).substr(2,32),createdAt:new Date,isActive:!0};R(s=>[...s,e]),o.success("New API key generated successfully!")},le=e=>{if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},ie=()=>{switch(K?.subscription||"free"){case"pro":return e.jsxs(d,{className:"bg-blue-100 text-blue-800",children:[e.jsx(C,{className:"w-3 h-3 mr-1"}),"Pro"]});case"enterprise":return e.jsxs(d,{className:"bg-purple-100 text-purple-800",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Enterprise"]});default:return e.jsx(d,{variant:"secondary",children:"Free"})}},re=()=>e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"General Information"}),e.jsx(i,{variant:I?"default":"outline",onClick:I?se:()=>E(!0),children:I?e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Save Changes"]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]}),e.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:P?.displayName?.charAt(0)||P?.email?.charAt(0)||"U"}),I&&e.jsx(i,{size:"sm",className:"absolute -bottom-2 -right-2 rounded-full w-8 h-8 p-0",children:e.jsx(N,{className:"w-4 h-4"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:W.displayName||"User"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:W.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[ie(),e.jsxs(d,{variant:"outline",className:"text-xs",children:["Member since ",new Date(P?.metadata?.creationTime||"").getFullYear()]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"displayName",children:"Display Name"}),e.jsx(r,{id:"displayName",value:W.displayName,onChange:e=>te("displayName",e.target.value),disabled:!I})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"email",children:"Email Address"}),e.jsx(r,{id:"email",type:"email",value:W.email,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"phone",children:"Phone Number"}),e.jsx(r,{id:"phone",value:W.phone,onChange:e=>te("phone",e.target.value),disabled:!I})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"location",children:"Location"}),e.jsx(r,{id:"location",value:W.location,onChange:e=>te("location",e.target.value),disabled:!I})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"company",children:"Company"}),e.jsx(r,{id:"company",value:W.company,onChange:e=>te("company",e.target.value),disabled:!I})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"jobTitle",children:"Job Title"}),e.jsx(r,{id:"jobTitle",value:W.jobTitle,onChange:e=>te("jobTitle",e.target.value),disabled:!I})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(n,{htmlFor:"bio",children:"Bio"}),e.jsx("textarea",{id:"bio",value:W.bio,onChange:e=>te("bio",e.target.value),disabled:!I,rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 disabled:opacity-50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"website",children:"Website"}),e.jsx(r,{id:"website",value:W.website,onChange:e=>te("website",e.target.value),disabled:!I})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"github",children:"GitHub"}),e.jsx(r,{id:"github",value:W.github,onChange:e=>te("github",e.target.value),disabled:!I})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"twitter",children:"Twitter"}),e.jsx(r,{id:"twitter",value:W.twitter,onChange:e=>te("twitter",e.target.value),disabled:!I})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"linkedin",children:"LinkedIn"}),e.jsx(r,{id:"linkedin",value:W.linkedin,onChange:e=>te("linkedin",e.target.value),disabled:!I})]})]}),I&&e.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs(i,{variant:"outline",onClick:()=>E(!1),children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(i,{onClick:se,children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]}),ne=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-6",children:"Usage Statistics"}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx(f,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:z.totalApps}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Total Apps"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx(y,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:z.activeApps}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Active Apps"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx(v,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:z.totalViews.toLocaleString()}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Total Views"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx(w,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:z.apiCalls.toLocaleString()}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"API Calls"})]})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Storage Usage"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-slate-600 dark:text-slate-300",children:[le(1024*z.storageUsed*1024)," of ",le(1024*z.storageLimit*1024)," used"]}),e.jsxs("span",{className:"text-sm text-slate-500",children:[Math.round(z.storageUsed/z.storageLimit*100),"%"]})]}),e.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(z.storageUsed/z.storageLimit*100,100)}%`}})}),z.storageUsed/z.storageLimit>.8&&e.jsxs("div",{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400 text-sm",children:[e.jsx(k,{className:"w-4 h-4"}),"Storage is almost full. Consider upgrading your plan."]})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Subscription Plan"}),ie()]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:"Plan Type"}),e.jsx("span",{className:"text-slate-900 dark:text-slate-100 font-medium",children:K?.subscription||"Free"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:"Billing Cycle"}),e.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:"Monthly"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:"Next Billing"}),e.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:new Date(Date.now()+2592e6).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs(i,{variant:"outline",className:"flex-1",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Billing History"]}),e.jsxs(i,{className:"flex-1",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})]})]}),de=()=>e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"API Keys"}),e.jsxs(i,{onClick:ae,children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Generate New Key"]})]}),e.jsx("div",{className:"space-y-4",children:_.map(s=>e.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:s.name}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Created ",s.createdAt.toLocaleDateString(),s.lastUsed&&e.jsxs("span",{children:[" â€¢ Last used ",s.lastUsed.toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{variant:s.isActive?"default":"secondary",children:s.isActive?"Active":"Inactive"}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>{return e=s.id,R(s=>s.filter(s=>s.id!==e)),void o.success("API key revoked successfully!");var e},children:e.jsx(F,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("code",{className:"flex-1 px-3 py-2 bg-slate-100 dark:bg-slate-800 rounded text-sm font-mono",children:[s.key.substring(0,20),"..."]}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),o.success("Copied to clipboard!")}catch(s){o.error("Failed to copy to clipboard")}})(s.key),children:"Copy"})]})]},s.id))}),0===_.length&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(h,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-2",children:"No API Keys"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"Generate your first API key to start integrating with our services."}),e.jsxs(i,{onClick:ae,children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Generate API Key"]})]})]}),ce=()=>e.jsxs(l,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-6",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-6",children:Object.entries(H).map(([s,t])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:s.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["emailUpdates"===s&&"Receive email notifications about your account","pushNotifications"===s&&"Browser push notifications for important updates","weeklyReports"===s&&"Weekly summary of your app analytics","securityAlerts"===s&&"Security alerts and login notifications","productUpdates"===s&&"New features and product announcements"]})]}),e.jsx(i,{variant:t?"default":"outline",size:"sm",onClick:()=>((e,s)=>{J(t=>({...t,[e]:s}))})(s,!t),children:t?"Enabled":"Disabled"})]},s))})]}),oe=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-6",children:"Security Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Add an extra layer of security to your account"})]}),e.jsx(i,{variant:O.twoFactorEnabled?"default":"outline",children:O.twoFactorEnabled?"Enabled":"Enable 2FA"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Change Password"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Last changed ",O.passwordLastChanged.toLocaleDateString()]})]}),e.jsx(i,{variant:"outline",children:"Update Password"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Session Timeout"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Automatically sign out after ",O.sessionTimeout," hours of inactivity"]})]}),e.jsxs("select",{value:O.sessionTimeout,onChange:e=>Z(s=>({...s,sessionTimeout:Number(e.target.value)})),className:"px-3 py-1 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800",children:[e.jsx("option",{value:1,children:"1 hour"}),e.jsx("option",{value:8,children:"8 hours"}),e.jsx("option",{value:24,children:"24 hours"}),e.jsx("option",{value:168,children:"1 week"})]})]})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Account Actions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(i,{variant:"outline",className:"w-full justify-start",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Download Account Data"]}),e.jsxs(i,{variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-700",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]}),xe=[{id:"general",title:"General",icon:x,component:e.jsx(re,{})},{id:"usage",title:"Usage & Billing",icon:m,component:e.jsx(ne,{})},{id:"apikeys",title:"API Keys",icon:h,component:e.jsx(de,{})},{id:"notifications",title:"Notifications",icon:j,component:e.jsx(ce,{})},{id:"security",title:"Security",icon:p,component:e.jsx(oe,{})}];return q?e.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"Loading profile..."})]})}):e.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsx("div",{className:"w-64 flex-shrink-0",children:e.jsx(l,{className:"p-4",children:e.jsx("nav",{className:"space-y-2",children:xe.map(s=>e.jsxs("button",{onClick:()=>B(s.id),className:"w-full text-left px-3 py-2 rounded-lg flex items-center gap-3 transition-colors "+(M===s.id?"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"),children:[e.jsx(s.icon,{className:"w-5 h-5"}),s.title]},s.id))})})}),e.jsx("div",{className:"flex-1",children:e.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:xe.find(e=>e.id===M)?.component},M)})]})})})};function T(){return e.jsx(P,{})}export{T as default};
//# sourceMappingURL=ProfilePage-B0es7zkd.js.map
