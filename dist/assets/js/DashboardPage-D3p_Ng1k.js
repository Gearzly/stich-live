import{j as e}from"./ui-Ct5cQbGm.js";import{r as s,L as a}from"./router-BzeIgkns.js";import{B as t,C as l}from"./index-BGFRk5FI.js";import{I as i}from"./input-C3c5IdTo.js";import{B as r}from"./badge-CutB9wkN.js";import{u as n}from"./useAuth-CgR9YSdx.js";import{A as d}from"./ApplicationService-d2Sia-vC.js";import{k as c,l as x,c as m,d as o,E as h,m as j,S as p,n as u,o as N,p as f,L as b,q as g,r as v,s as y,t as w,G as k}from"./icons-MbMX8aHs.js";import{m as A}from"./animation-DUSlpkVZ.js";import"./vendor-DEQ385Nk.js";import"./utils-Bmne0XXo.js";import"./firebase-rW0Qch21.js";const C=()=>{const{user:C}=n(),[S,z]=s.useState([]),[L,D]=s.useState({totalApps:0,activeApps:0,totalViews:0,monthlyGrowth:0}),[G,T]=s.useState(""),[V,I]=s.useState("grid"),[B,F]=s.useState("all"),[q,E]=s.useState(!0),P=new d;s.useEffect(()=>{C&&U()},[C]);const U=async()=>{if(C)try{E(!0);const e=await P.getUserApplications(C.uid);z(e);const s=e.filter(e=>"deployed"===e.status).length,a=e.reduce((e,s)=>e+(s.analytics?.views||0),0);D({totalApps:e.length,activeApps:s,totalViews:a,monthlyGrowth:23})}catch(e){}finally{E(!1)}},Y=S.filter(e=>{const s=e.name.toLowerCase().includes(G.toLowerCase())||e.description?.toLowerCase().includes(G.toLowerCase()),a="all"===B||"active"===B&&"deployed"===e.status||"draft"===B&&"draft"===e.status||"failed"===B&&"failed"===e.status;return s&&a}),M=e=>{switch(e){case"deployed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"generating":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"draft":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-slate-100 text-slate-800 dark:bg-slate-900/20 dark:text-slate-400"}},Q=e=>{if(!e)return"Unknown";const s=e.toDate?e.toDate():new Date(e);return new Intl.RelativeTimeFormat("en").format(Math.ceil((s.getTime()-Date.now())/864e5),"day")};return q?e.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"Loading your dashboard..."})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:e.jsx("div",{className:"container mx-auto px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Dashboard"}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mt-1",children:["Welcome back, ",C?.displayName||C?.email]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx(c,{className:"w-4 h-4 mr-2"}),"Notifications"]}),e.jsx(t,{asChild:!0,children:e.jsxs(a,{to:"/chat",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"New App"]})})]})]})})}),e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:"Total Apps"}),e.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:L.totalApps})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx(m,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})})}),e.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:"Active Apps"}),e.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:L.activeApps})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:e.jsx(o,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})})}),e.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:"Total Views"}),e.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:L.totalViews.toLocaleString()})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:e.jsx(h,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})})}),e.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:"Growth"}),e.jsxs("p",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:["+",L.monthlyGrowth,"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:e.jsx(j,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})})]}),e.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-8",children:e.jsxs(l,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(t,{asChild:!0,variant:"outline",className:"h-16 flex-col space-y-2",children:e.jsxs(a,{to:"/chat",children:[e.jsx(p,{className:"w-6 h-6"}),e.jsx("span",{children:"AI Chat Generator"})]})}),e.jsx(t,{asChild:!0,variant:"outline",className:"h-16 flex-col space-y-2",children:e.jsxs(a,{to:"/templates",children:[e.jsx(u,{className:"w-6 h-6"}),e.jsx("span",{children:"Browse Templates"})]})}),e.jsx(t,{asChild:!0,variant:"outline",className:"h-16 flex-col space-y-2",children:e.jsxs(a,{to:"/analytics",children:[e.jsx(N,{className:"w-6 h-6"}),e.jsx("span",{children:"View Analytics"})]})})]})]})}),e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Your Applications"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(i,{placeholder:"Search apps...",value:G,onChange:e=>T(e.target.value),className:"pl-10 w-64"})]}),e.jsxs("select",{value:B,onChange:e=>F(e.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:[e.jsx("option",{value:"all",children:"All Apps"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"draft",children:"Drafts"}),e.jsx("option",{value:"failed",children:"Failed"})]}),e.jsxs("div",{className:"flex border border-slate-300 dark:border-slate-600 rounded-md",children:[e.jsx(t,{variant:"grid"===V?"default":"ghost",size:"sm",onClick:()=>I("grid"),className:"rounded-r-none",children:e.jsx(u,{className:"w-4 h-4"})}),e.jsx(t,{variant:"list"===V?"default":"ghost",size:"sm",onClick:()=>I("list"),className:"rounded-l-none",children:e.jsx(b,{className:"w-4 h-4"})})]})]})]}),0===Y.length?e.jsxs(l,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(m,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2",children:G||"all"!==B?"No apps found":"No applications yet"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:G||"all"!==B?"Try adjusting your search or filter criteria.":"Start building your first AI-powered application today!"}),!G&&"all"===B&&e.jsx(t,{asChild:!0,children:e.jsxs(a,{to:"/chat",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Create Your First App"]})})]}):e.jsx("div",{className:"grid"===V?"grid md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:Y.map((s,a)=>e.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1*a},children:"grid"===V?e.jsxs(l,{className:"p-6 hover:shadow-lg transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 line-clamp-2",children:s.description||"No description available"})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx(r,{className:M(s.status),children:s.status}),e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(g,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-slate-500 dark:text-slate-400 mb-4",children:[e.jsx(v,{className:"w-4 h-4 mr-1"}),Q(s.updatedAt),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx(h,{className:"w-4 h-4 mr-1"}),s.analytics?.views||0," views"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(t,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Preview"]}),e.jsx(t,{size:"sm",variant:"outline",children:e.jsx(y,{className:"w-4 h-4"})}),e.jsx(t,{size:"sm",variant:"outline",children:e.jsx(w,{className:"w-4 h-4"})})]})]}):e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center mr-4",children:e.jsx(k,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:s.name}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:s.description||"No description available"}),e.jsxs("div",{className:"flex items-center text-sm text-slate-500 dark:text-slate-400 mt-1",children:[e.jsx(v,{className:"w-4 h-4 mr-1"}),Q(s.updatedAt),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx(h,{className:"w-4 h-4 mr-1"}),s.analytics?.views||0," views"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{className:M(s.status),children:s.status}),e.jsxs(t,{size:"sm",variant:"outline",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Preview"]}),e.jsx(t,{size:"sm",variant:"outline",children:e.jsx(y,{className:"w-4 h-4"})}),e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(g,{className:"w-4 h-4"})})]})]})})},s.id))})]})]})]})};function S(){return e.jsx(C,{})}export{S as default};
//# sourceMappingURL=DashboardPage-D3p_Ng1k.js.map
