{"version":3,"mappings":"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","names":["m","require$$0","client","createRoot","hydrateRoot","count","toastTimeouts","Map","addToRemoveQueue","toastId","has","timeout","setTimeout","delete","dispatch","type","set","reducer","state","action","toasts","toast","slice","map","t","id","forEach","open","filter","listeners","memoryState","listener","props","Number","MAX_SAFE_INTEGER","toString","dismiss","onOpenChange","update","VISUALLY_HIDDEN_STYLES","Object","freeze","position","border","width","height","padding","margin","overflow","clip","whiteSpace","wordWrap","VisuallyHidden","React.forwardRef","forwardedRef","jsx","Primitive","span","ref","style","displayName","PROVIDER_NAME","Collection","useCollection","createCollectionScope","createCollection","createToastContext","createContextScope","ToastProviderProvider","useToastProviderContext","ToastProvider","__scopeToast","label","duration","swipeDirection","swipeThreshold","children","viewport","setViewport","React.useState","toastCount","setToastCount","isFocusedToastEscapeKeyDownRef","React.useRef","isClosePausedRef","trim","Provider","scope","onViewportChange","onToastAdd","React.useCallback","prevCount","onToastRemove","VIEWPORT_NAME","VIEWPORT_DEFAULT_HOTKEY","VIEWPORT_PAUSE","VIEWPORT_RESUME","ToastViewport","hotkey","viewportProps","context","getItems","wrapperRef","headFocusProxyRef","tailFocusProxyRef","composedRefs","useComposedRefs","hotkeyLabel","join","replace","hasToasts","React.useEffect","handleKeyDown","event","length","every","key","code","current","focus","document","addEventListener","removeEventListener","wrapper","handlePause","pauseEvent","CustomEvent","dispatchEvent","handleResume","resumeEvent","handleFocusOutResume","contains","relatedTarget","handlePointerLeaveResume","activeElement","window","getSortedTabbableCandidates","tabbingDirection","tabbableCandidates","toastItem","toastNode","toastTabbableCandidates","getTabbableCandidates","reverse","flat","isMetaKey","altKey","ctrlKey","metaKey","focusedElement","isTabbingBackwards","shiftKey","target","sortedCandidates","index","findIndex","candidate","focusFirst","preventDefault","jsxs","DismissableLayer.Branch","role","tabIndex","pointerEvents","FocusProxy","onFocusFromOutsideViewport","Slot","ol","FOCUS_PROXY_NAME","proxyProps","onFocus","prevFocusedElement","TOAST_NAME","Toast","forceMount","openProp","defaultOpen","toastProps","setOpen","useControllableState","prop","defaultProp","onChange","caller","Presence","present","ToastImpl","onClose","onPause","useCallbackRef","onResume","onSwipeStart","composeEventHandlers","currentTarget","setAttribute","onSwipeMove","x","y","detail","delta","setProperty","onSwipeCancel","removeProperty","onSwipeEnd","ToastInteractiveProvider","useToastInteractiveContext","durationProp","onEscapeKeyDown","node","setNode","node2","pointerStartRef","swipeDeltaRef","closeTimerStartTimeRef","closeTimerRemainingTimeRef","closeTimerRef","handleClose","isFocusInToast","startTimer","duration2","Infinity","clearTimeout","Date","getTime","elapsedTime","announceTextContent","React.useMemo","getAnnounceTextContent","Fragment","ToastAnnounce","ReactDOM.createPortal","ItemSlot","DismissableLayer.Root","asChild","li","userSelect","touchAction","onKeyDown","nativeEvent","defaultPrevented","onPointerDown","button","clientX","clientY","onPointerMove","hasSwipeMoveStarted","Boolean","isHorizontalSwipe","includes","clamp","Math","min","max","clampedX","clampedY","moveStartBuffer","pointerType","eventDetail","originalEvent","handleAndDispatchCustomEvent","discrete","isDeltaInDirection","setPointerCapture","pointerId","abs","onPointerUp","hasPointerCapture","releasePointerCapture","event2","once","announceProps","renderAnnounceText","setRenderAnnounceText","isAnnounced","setIsAnnounced","callback","fn","useLayoutEffect","raf1","raf2","requestAnimationFrame","cancelAnimationFrame","useNextFrame","timer","Portal","ToastTitle","titleProps","div","ToastDescription","descriptionProps","ToastAction","altText","actionProps","ToastAnnounceExclude","ToastClose","CLOSE_NAME","closeProps","interactiveContext","onClick","announceExcludeProps","container","textContent","Array","from","childNodes","nodeType","TEXT_NODE","push","ELEMENT_NODE","isHTMLElement","isHidden","ariaHidden","hidden","display","isExcluded","dataset","radixToastAnnounceExclude","radixToastAnnounceAlt","name","handler","bubbles","cancelable","dispatchDiscreteCustomEvent","direction","threshold","deltaX","deltaY","isDeltaX","nodes","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","isHiddenInput","tagName","disabled","FILTER_SKIP","FILTER_ACCEPT","nextNode","currentNode","candidates","previouslyFocusedElement","some","Viewport","Root2","Title","Description","Action","Close","cn","inputs","twMerge","clsx","className","ToastPrimitives.Viewport","toastVariants","cva","variants","variant","default","destructive","defaultVariants","ToastPrimitives.Root","ToastPrimitives.Action","ToastPrimitives.Close","X","ToastPrimitives.Title","ToastPrimitives.Description","Toaster","setState","indexOf","splice","useToast","title","description","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","getFirestore","getStorage","getDatabase","BaseService","constructor","__publicField","this","handleError","error","operation","Error","message","getCurrentUserId","user","currentUser","uid","timestampToDate","timestamp","Timestamp","toDate","addAuditFields","data","isUpdate","now","userId","updatedAt","updatedBy","createdAt","createdBy","createDocument","collectionName","docData","addDoc","collection","db","getDocument","docRef","doc","docSnap","getDoc","exists","updateDocument","updateData","updateDoc","deleteDocument","deleteDoc","queryDocuments","constraints","q","query","getDocs","docs","queryDocumentsWithPagination","pageSize","lastDoc","queryConstraints","limit","startAfter","hasMore","UserService","super","arguments","createUserProfile","userProfile","email","photoURL","bio","website","location","phone","company","jobTitle","subscription","socialLinks","github","twitter","linkedin","isEmailVerified","emailVerified","lastLoginAt","preferences","theme","notifications","security","marketing","privacy","profileVisibility","showEmail","showLocation","userDoc","COLLECTION_NAME","profileData","setDoc","getUserProfile","updateUserProfile","updateProfile","updatedProfile","updatePreferences","currentProfile","updatedPreferences","updateLastLogin","changePassword","credential","EmailAuthProvider","currentPassword","reauthenticateWithCredential","updatePassword","newPassword","sendEmailVerification","deleteUserAccount","password","deleteUser","searchUsers","searchTerm","where","orderBy","toLowerCase","getPublicProfiles","_limitCount","userProfileExists","createOrUpdateUser","userData","profile","AuthContext","createContext","AuthProvider","setUser","useState","setUserProfile","loading","setLoading","setError","userService","loadUserProfile","async","useEffect","onAuthStateChanged","firebaseUser","value","isAuthenticated","hasProfile","signInWithEmail","credentials","signInWithEmailAndPassword","signInWithGoogle","provider","GoogleAuthProvider","result","signInWithPopup","signUpWithEmail","createUserWithEmailAndPassword","signOut","resetPassword","sendPasswordResetEmail","deleteAccount","refreshProfile","clearError","useAuth","useContext","ThemeContext","ThemeProvider","defaultTheme","storageKey","setTheme","localStorage","getItem","resolvedTheme","setResolvedTheme","root","documentElement","classList","remove","systemTheme","matchMedia","matches","add","setItem","success","icon","CheckCircle","iconColor","XCircle","warning","AlertTriangle","info","Info","NotificationToast","notification","isVisible","setIsVisible","isExiting","setIsExiting","Icon","toLocaleTimeString","persistent","transition","animationDuration","NotificationContext","useNotifications","NotificationProvider","setNotifications","generateId","useCallback","random","substr","addNotification","notificationData","prev","removeNotification","clearAllNotifications","showSuccess","options","showError","showWarning","showInfo","defaultSettings","language","fontSize","reducedMotion","editorTheme","editorFontSize","editorTabSize","editorWordWrap","editorMinimap","preferredAIProvider","aiModel","creativityLevel","codeStyle","analytics","crashReporting","usageData","marketingEmails","autoSave","autoPreview","showLineNumbers","enableLinting","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","dateFormat","timeFormat","SettingsContext","useSettings","SettingsProvider","settings","setSettings","loadSettings","applyTheme","applyFontSize","applyReducedMotion","savedSettings","parsed","JSON","parse","saveSettings","newSettings","stringify","updateSetting","updateSettings","updates","resetSettings","exportSettings","importSettings","settingsJson","importedSettings","validatedSettings","prefersDark","toggle","small","medium","large","SearchContext","useSearch","SearchProvider","setQuery","results","setResults","filters","setFilters","sortBy","sortOrder","setHasMore","totalResults","setTotalResults","recentSearches","setRecentSearches","popularSearches","setPopularSearches","currentPage","setCurrentPage","saved","loadPopularSearches","search","searchQuery","searchOptions","page","includeContent","fuzzySearch","mockResults","mockSearchAPI","total","addRecentSearch","clearSearch","updateFilters","newFilters","loadMore","getSuggestions","suggestions","Promise","resolve","s","mockSuggestionsAPI","trimmed","filtered","item","clearRecentSearches","quickSearch","sortedResults","url","thumbnail","tags","category","author","avatar","metadata","framework","difficulty","rating","downloads","likes","tag","sort","a","b","multiplier","localeCompare","startIndex","GlobalErrorHandler","enableReporting","setupGlobalHandlers","handleUnhandledRejection","handleGlobalError","useGlobalErrorHandler","buttonVariants","outline","secondary","ghost","link","size","sm","lg","Button","Comp","Card","CardHeader","CardTitle","CardDescription","CardContent","ErrorBoundary","Component","hasError","errorInfo","errorId","reload","href","subject","body","mailtoLink","encodeURIComponent","getDerivedStateFromError","componentDidCatch","onError","render","fallback","showDetails","stack","handleRetry","RefreshCw","handleReload","handleGoHome","Home","handleReportBug","Bug","Header","Link","to","Footer","Layout","ProtectedRoute","useLocation","Navigate","HomePage","lazy","__vitePreload","import","__VITE_PRELOAD__","DashboardPage","LoginPage","RegisterPage","ProfilePage","SettingsPage","SearchPage","DiscoveryPage","NotFoundPage","WebContainerTest","then","module","RealtimeGeneration","LoadingSpinner","App","Suspense","Routes","Route","path","element","navigator","serviceWorker","register","registration","setInterval","catch","registrationError","getElementById","StrictMode","BrowserRouter"],"ignoreList":[0,2,3],"sources":["../../../node_modules/react-dom/client.js","../../../src/hooks/use-toast.ts","../../../node_modules/@radix-ui/react-visually-hidden/dist/index.mjs","../../../node_modules/@radix-ui/react-toast/dist/index.mjs","../../../src/lib/utils.ts","../../../src/components/ui/toast.tsx","../../../src/components/ui/toaster.tsx","../../../src/lib/firebase.ts","../../../src/services/core/BaseService.ts","../../../src/services/user/UserService.ts","../../../src/contexts/AuthContext.tsx","../../../src/contexts/ThemeContext.tsx","../../../src/components/notifications/NotificationToast.tsx","../../../src/contexts/NotificationContext.tsx","../../../src/contexts/SettingsContext.tsx","../../../src/contexts/SearchContext.tsx","../../../src/components/error/GlobalErrorHandler.tsx","../../../src/hooks/useError.ts","../../../src/components/ui/button.tsx","../../../src/components/ui/card.tsx","../../../src/components/error/ErrorBoundary.tsx","../../../src/components/layout/Header.tsx","../../../src/components/layout/Footer.tsx","../../../src/components/layout/Layout.tsx","../../../src/components/auth/ProtectedRoute.tsx","../../../src/App.tsx","../../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","\"use client\"\n\n// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ \n      type: \"DISMISS_TOAST\", \n      ...(toastId && { toastId })\n    }),\n  }\n}\n\nexport { useToast, toast }\n","// src/visually-hidden.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar VISUALLY_HIDDEN_STYLES = Object.freeze({\n  // See: https://github.com/twbs/bootstrap/blob/main/scss/mixins/_visually-hidden.scss\n  position: \"absolute\",\n  border: 0,\n  width: 1,\n  height: 1,\n  padding: 0,\n  margin: -1,\n  overflow: \"hidden\",\n  clip: \"rect(0, 0, 0, 0)\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\"\n});\nvar NAME = \"VisuallyHidden\";\nvar VisuallyHidden = React.forwardRef(\n  (props, forwardedRef) => {\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...props,\n        ref: forwardedRef,\n        style: { ...VISUALLY_HIDDEN_STYLES, ...props.style }\n      }\n    );\n  }\n);\nVisuallyHidden.displayName = NAME;\nvar Root = VisuallyHidden;\nexport {\n  Root,\n  VISUALLY_HIDDEN_STYLES,\n  VisuallyHidden\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/toast.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport * as DismissableLayer from \"@radix-ui/react-dismissable-layer\";\nimport { Portal } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { VisuallyHidden } from \"@radix-ui/react-visually-hidden\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar PROVIDER_NAME = \"ToastProvider\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(\"Toast\");\nvar [createToastContext, createToastScope] = createContextScope(\"Toast\", [createCollectionScope]);\nvar [ToastProviderProvider, useToastProviderContext] = createToastContext(PROVIDER_NAME);\nvar ToastProvider = (props) => {\n  const {\n    __scopeToast,\n    label = \"Notification\",\n    duration = 5e3,\n    swipeDirection = \"right\",\n    swipeThreshold = 50,\n    children\n  } = props;\n  const [viewport, setViewport] = React.useState(null);\n  const [toastCount, setToastCount] = React.useState(0);\n  const isFocusedToastEscapeKeyDownRef = React.useRef(false);\n  const isClosePausedRef = React.useRef(false);\n  if (!label.trim()) {\n    console.error(\n      `Invalid prop \\`label\\` supplied to \\`${PROVIDER_NAME}\\`. Expected non-empty \\`string\\`.`\n    );\n  }\n  return /* @__PURE__ */ jsx(Collection.Provider, { scope: __scopeToast, children: /* @__PURE__ */ jsx(\n    ToastProviderProvider,\n    {\n      scope: __scopeToast,\n      label,\n      duration,\n      swipeDirection,\n      swipeThreshold,\n      toastCount,\n      viewport,\n      onViewportChange: setViewport,\n      onToastAdd: React.useCallback(() => setToastCount((prevCount) => prevCount + 1), []),\n      onToastRemove: React.useCallback(() => setToastCount((prevCount) => prevCount - 1), []),\n      isFocusedToastEscapeKeyDownRef,\n      isClosePausedRef,\n      children\n    }\n  ) });\n};\nToastProvider.displayName = PROVIDER_NAME;\nvar VIEWPORT_NAME = \"ToastViewport\";\nvar VIEWPORT_DEFAULT_HOTKEY = [\"F8\"];\nvar VIEWPORT_PAUSE = \"toast.viewportPause\";\nvar VIEWPORT_RESUME = \"toast.viewportResume\";\nvar ToastViewport = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeToast,\n      hotkey = VIEWPORT_DEFAULT_HOTKEY,\n      label = \"Notifications ({hotkey})\",\n      ...viewportProps\n    } = props;\n    const context = useToastProviderContext(VIEWPORT_NAME, __scopeToast);\n    const getItems = useCollection(__scopeToast);\n    const wrapperRef = React.useRef(null);\n    const headFocusProxyRef = React.useRef(null);\n    const tailFocusProxyRef = React.useRef(null);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onViewportChange);\n    const hotkeyLabel = hotkey.join(\"+\").replace(/Key/g, \"\").replace(/Digit/g, \"\");\n    const hasToasts = context.toastCount > 0;\n    React.useEffect(() => {\n      const handleKeyDown = (event) => {\n        const isHotkeyPressed = hotkey.length !== 0 && hotkey.every((key) => event[key] || event.code === key);\n        if (isHotkeyPressed) ref.current?.focus();\n      };\n      document.addEventListener(\"keydown\", handleKeyDown);\n      return () => document.removeEventListener(\"keydown\", handleKeyDown);\n    }, [hotkey]);\n    React.useEffect(() => {\n      const wrapper = wrapperRef.current;\n      const viewport = ref.current;\n      if (hasToasts && wrapper && viewport) {\n        const handlePause = () => {\n          if (!context.isClosePausedRef.current) {\n            const pauseEvent = new CustomEvent(VIEWPORT_PAUSE);\n            viewport.dispatchEvent(pauseEvent);\n            context.isClosePausedRef.current = true;\n          }\n        };\n        const handleResume = () => {\n          if (context.isClosePausedRef.current) {\n            const resumeEvent = new CustomEvent(VIEWPORT_RESUME);\n            viewport.dispatchEvent(resumeEvent);\n            context.isClosePausedRef.current = false;\n          }\n        };\n        const handleFocusOutResume = (event) => {\n          const isFocusMovingOutside = !wrapper.contains(event.relatedTarget);\n          if (isFocusMovingOutside) handleResume();\n        };\n        const handlePointerLeaveResume = () => {\n          const isFocusInside = wrapper.contains(document.activeElement);\n          if (!isFocusInside) handleResume();\n        };\n        wrapper.addEventListener(\"focusin\", handlePause);\n        wrapper.addEventListener(\"focusout\", handleFocusOutResume);\n        wrapper.addEventListener(\"pointermove\", handlePause);\n        wrapper.addEventListener(\"pointerleave\", handlePointerLeaveResume);\n        window.addEventListener(\"blur\", handlePause);\n        window.addEventListener(\"focus\", handleResume);\n        return () => {\n          wrapper.removeEventListener(\"focusin\", handlePause);\n          wrapper.removeEventListener(\"focusout\", handleFocusOutResume);\n          wrapper.removeEventListener(\"pointermove\", handlePause);\n          wrapper.removeEventListener(\"pointerleave\", handlePointerLeaveResume);\n          window.removeEventListener(\"blur\", handlePause);\n          window.removeEventListener(\"focus\", handleResume);\n        };\n      }\n    }, [hasToasts, context.isClosePausedRef]);\n    const getSortedTabbableCandidates = React.useCallback(\n      ({ tabbingDirection }) => {\n        const toastItems = getItems();\n        const tabbableCandidates = toastItems.map((toastItem) => {\n          const toastNode = toastItem.ref.current;\n          const toastTabbableCandidates = [toastNode, ...getTabbableCandidates(toastNode)];\n          return tabbingDirection === \"forwards\" ? toastTabbableCandidates : toastTabbableCandidates.reverse();\n        });\n        return (tabbingDirection === \"forwards\" ? tabbableCandidates.reverse() : tabbableCandidates).flat();\n      },\n      [getItems]\n    );\n    React.useEffect(() => {\n      const viewport = ref.current;\n      if (viewport) {\n        const handleKeyDown = (event) => {\n          const isMetaKey = event.altKey || event.ctrlKey || event.metaKey;\n          const isTabKey = event.key === \"Tab\" && !isMetaKey;\n          if (isTabKey) {\n            const focusedElement = document.activeElement;\n            const isTabbingBackwards = event.shiftKey;\n            const targetIsViewport = event.target === viewport;\n            if (targetIsViewport && isTabbingBackwards) {\n              headFocusProxyRef.current?.focus();\n              return;\n            }\n            const tabbingDirection = isTabbingBackwards ? \"backwards\" : \"forwards\";\n            const sortedCandidates = getSortedTabbableCandidates({ tabbingDirection });\n            const index = sortedCandidates.findIndex((candidate) => candidate === focusedElement);\n            if (focusFirst(sortedCandidates.slice(index + 1))) {\n              event.preventDefault();\n            } else {\n              isTabbingBackwards ? headFocusProxyRef.current?.focus() : tailFocusProxyRef.current?.focus();\n            }\n          }\n        };\n        viewport.addEventListener(\"keydown\", handleKeyDown);\n        return () => viewport.removeEventListener(\"keydown\", handleKeyDown);\n      }\n    }, [getItems, getSortedTabbableCandidates]);\n    return /* @__PURE__ */ jsxs(\n      DismissableLayer.Branch,\n      {\n        ref: wrapperRef,\n        role: \"region\",\n        \"aria-label\": label.replace(\"{hotkey}\", hotkeyLabel),\n        tabIndex: -1,\n        style: { pointerEvents: hasToasts ? void 0 : \"none\" },\n        children: [\n          hasToasts && /* @__PURE__ */ jsx(\n            FocusProxy,\n            {\n              ref: headFocusProxyRef,\n              onFocusFromOutsideViewport: () => {\n                const tabbableCandidates = getSortedTabbableCandidates({\n                  tabbingDirection: \"forwards\"\n                });\n                focusFirst(tabbableCandidates);\n              }\n            }\n          ),\n          /* @__PURE__ */ jsx(Collection.Slot, { scope: __scopeToast, children: /* @__PURE__ */ jsx(Primitive.ol, { tabIndex: -1, ...viewportProps, ref: composedRefs }) }),\n          hasToasts && /* @__PURE__ */ jsx(\n            FocusProxy,\n            {\n              ref: tailFocusProxyRef,\n              onFocusFromOutsideViewport: () => {\n                const tabbableCandidates = getSortedTabbableCandidates({\n                  tabbingDirection: \"backwards\"\n                });\n                focusFirst(tabbableCandidates);\n              }\n            }\n          )\n        ]\n      }\n    );\n  }\n);\nToastViewport.displayName = VIEWPORT_NAME;\nvar FOCUS_PROXY_NAME = \"ToastFocusProxy\";\nvar FocusProxy = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToast, onFocusFromOutsideViewport, ...proxyProps } = props;\n    const context = useToastProviderContext(FOCUS_PROXY_NAME, __scopeToast);\n    return /* @__PURE__ */ jsx(\n      VisuallyHidden,\n      {\n        tabIndex: 0,\n        ...proxyProps,\n        ref: forwardedRef,\n        style: { position: \"fixed\" },\n        onFocus: (event) => {\n          const prevFocusedElement = event.relatedTarget;\n          const isFocusFromOutsideViewport = !context.viewport?.contains(prevFocusedElement);\n          if (isFocusFromOutsideViewport) onFocusFromOutsideViewport();\n        }\n      }\n    );\n  }\n);\nFocusProxy.displayName = FOCUS_PROXY_NAME;\nvar TOAST_NAME = \"Toast\";\nvar TOAST_SWIPE_START = \"toast.swipeStart\";\nvar TOAST_SWIPE_MOVE = \"toast.swipeMove\";\nvar TOAST_SWIPE_CANCEL = \"toast.swipeCancel\";\nvar TOAST_SWIPE_END = \"toast.swipeEnd\";\nvar Toast = React.forwardRef(\n  (props, forwardedRef) => {\n    const { forceMount, open: openProp, defaultOpen, onOpenChange, ...toastProps } = props;\n    const [open, setOpen] = useControllableState({\n      prop: openProp,\n      defaultProp: defaultOpen ?? true,\n      onChange: onOpenChange,\n      caller: TOAST_NAME\n    });\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || open, children: /* @__PURE__ */ jsx(\n      ToastImpl,\n      {\n        open,\n        ...toastProps,\n        ref: forwardedRef,\n        onClose: () => setOpen(false),\n        onPause: useCallbackRef(props.onPause),\n        onResume: useCallbackRef(props.onResume),\n        onSwipeStart: composeEventHandlers(props.onSwipeStart, (event) => {\n          event.currentTarget.setAttribute(\"data-swipe\", \"start\");\n        }),\n        onSwipeMove: composeEventHandlers(props.onSwipeMove, (event) => {\n          const { x, y } = event.detail.delta;\n          event.currentTarget.setAttribute(\"data-swipe\", \"move\");\n          event.currentTarget.style.setProperty(\"--radix-toast-swipe-move-x\", `${x}px`);\n          event.currentTarget.style.setProperty(\"--radix-toast-swipe-move-y\", `${y}px`);\n        }),\n        onSwipeCancel: composeEventHandlers(props.onSwipeCancel, (event) => {\n          event.currentTarget.setAttribute(\"data-swipe\", \"cancel\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-x\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-y\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-end-x\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-end-y\");\n        }),\n        onSwipeEnd: composeEventHandlers(props.onSwipeEnd, (event) => {\n          const { x, y } = event.detail.delta;\n          event.currentTarget.setAttribute(\"data-swipe\", \"end\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-x\");\n          event.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-y\");\n          event.currentTarget.style.setProperty(\"--radix-toast-swipe-end-x\", `${x}px`);\n          event.currentTarget.style.setProperty(\"--radix-toast-swipe-end-y\", `${y}px`);\n          setOpen(false);\n        })\n      }\n    ) });\n  }\n);\nToast.displayName = TOAST_NAME;\nvar [ToastInteractiveProvider, useToastInteractiveContext] = createToastContext(TOAST_NAME, {\n  onClose() {\n  }\n});\nvar ToastImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeToast,\n      type = \"foreground\",\n      duration: durationProp,\n      open,\n      onClose,\n      onEscapeKeyDown,\n      onPause,\n      onResume,\n      onSwipeStart,\n      onSwipeMove,\n      onSwipeCancel,\n      onSwipeEnd,\n      ...toastProps\n    } = props;\n    const context = useToastProviderContext(TOAST_NAME, __scopeToast);\n    const [node, setNode] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node2) => setNode(node2));\n    const pointerStartRef = React.useRef(null);\n    const swipeDeltaRef = React.useRef(null);\n    const duration = durationProp || context.duration;\n    const closeTimerStartTimeRef = React.useRef(0);\n    const closeTimerRemainingTimeRef = React.useRef(duration);\n    const closeTimerRef = React.useRef(0);\n    const { onToastAdd, onToastRemove } = context;\n    const handleClose = useCallbackRef(() => {\n      const isFocusInToast = node?.contains(document.activeElement);\n      if (isFocusInToast) context.viewport?.focus();\n      onClose();\n    });\n    const startTimer = React.useCallback(\n      (duration2) => {\n        if (!duration2 || duration2 === Infinity) return;\n        window.clearTimeout(closeTimerRef.current);\n        closeTimerStartTimeRef.current = (/* @__PURE__ */ new Date()).getTime();\n        closeTimerRef.current = window.setTimeout(handleClose, duration2);\n      },\n      [handleClose]\n    );\n    React.useEffect(() => {\n      const viewport = context.viewport;\n      if (viewport) {\n        const handleResume = () => {\n          startTimer(closeTimerRemainingTimeRef.current);\n          onResume?.();\n        };\n        const handlePause = () => {\n          const elapsedTime = (/* @__PURE__ */ new Date()).getTime() - closeTimerStartTimeRef.current;\n          closeTimerRemainingTimeRef.current = closeTimerRemainingTimeRef.current - elapsedTime;\n          window.clearTimeout(closeTimerRef.current);\n          onPause?.();\n        };\n        viewport.addEventListener(VIEWPORT_PAUSE, handlePause);\n        viewport.addEventListener(VIEWPORT_RESUME, handleResume);\n        return () => {\n          viewport.removeEventListener(VIEWPORT_PAUSE, handlePause);\n          viewport.removeEventListener(VIEWPORT_RESUME, handleResume);\n        };\n      }\n    }, [context.viewport, duration, onPause, onResume, startTimer]);\n    React.useEffect(() => {\n      if (open && !context.isClosePausedRef.current) startTimer(duration);\n    }, [open, duration, context.isClosePausedRef, startTimer]);\n    React.useEffect(() => {\n      onToastAdd();\n      return () => onToastRemove();\n    }, [onToastAdd, onToastRemove]);\n    const announceTextContent = React.useMemo(() => {\n      return node ? getAnnounceTextContent(node) : null;\n    }, [node]);\n    if (!context.viewport) return null;\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      announceTextContent && /* @__PURE__ */ jsx(\n        ToastAnnounce,\n        {\n          __scopeToast,\n          role: \"status\",\n          \"aria-live\": type === \"foreground\" ? \"assertive\" : \"polite\",\n          children: announceTextContent\n        }\n      ),\n      /* @__PURE__ */ jsx(ToastInteractiveProvider, { scope: __scopeToast, onClose: handleClose, children: ReactDOM.createPortal(\n        /* @__PURE__ */ jsx(Collection.ItemSlot, { scope: __scopeToast, children: /* @__PURE__ */ jsx(\n          DismissableLayer.Root,\n          {\n            asChild: true,\n            onEscapeKeyDown: composeEventHandlers(onEscapeKeyDown, () => {\n              if (!context.isFocusedToastEscapeKeyDownRef.current) handleClose();\n              context.isFocusedToastEscapeKeyDownRef.current = false;\n            }),\n            children: /* @__PURE__ */ jsx(\n              Primitive.li,\n              {\n                tabIndex: 0,\n                \"data-state\": open ? \"open\" : \"closed\",\n                \"data-swipe-direction\": context.swipeDirection,\n                ...toastProps,\n                ref: composedRefs,\n                style: { userSelect: \"none\", touchAction: \"none\", ...props.style },\n                onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n                  if (event.key !== \"Escape\") return;\n                  onEscapeKeyDown?.(event.nativeEvent);\n                  if (!event.nativeEvent.defaultPrevented) {\n                    context.isFocusedToastEscapeKeyDownRef.current = true;\n                    handleClose();\n                  }\n                }),\n                onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n                  if (event.button !== 0) return;\n                  pointerStartRef.current = { x: event.clientX, y: event.clientY };\n                }),\n                onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n                  if (!pointerStartRef.current) return;\n                  const x = event.clientX - pointerStartRef.current.x;\n                  const y = event.clientY - pointerStartRef.current.y;\n                  const hasSwipeMoveStarted = Boolean(swipeDeltaRef.current);\n                  const isHorizontalSwipe = [\"left\", \"right\"].includes(context.swipeDirection);\n                  const clamp = [\"left\", \"up\"].includes(context.swipeDirection) ? Math.min : Math.max;\n                  const clampedX = isHorizontalSwipe ? clamp(0, x) : 0;\n                  const clampedY = !isHorizontalSwipe ? clamp(0, y) : 0;\n                  const moveStartBuffer = event.pointerType === \"touch\" ? 10 : 2;\n                  const delta = { x: clampedX, y: clampedY };\n                  const eventDetail = { originalEvent: event, delta };\n                  if (hasSwipeMoveStarted) {\n                    swipeDeltaRef.current = delta;\n                    handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE, onSwipeMove, eventDetail, {\n                      discrete: false\n                    });\n                  } else if (isDeltaInDirection(delta, context.swipeDirection, moveStartBuffer)) {\n                    swipeDeltaRef.current = delta;\n                    handleAndDispatchCustomEvent(TOAST_SWIPE_START, onSwipeStart, eventDetail, {\n                      discrete: false\n                    });\n                    event.target.setPointerCapture(event.pointerId);\n                  } else if (Math.abs(x) > moveStartBuffer || Math.abs(y) > moveStartBuffer) {\n                    pointerStartRef.current = null;\n                  }\n                }),\n                onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n                  const delta = swipeDeltaRef.current;\n                  const target = event.target;\n                  if (target.hasPointerCapture(event.pointerId)) {\n                    target.releasePointerCapture(event.pointerId);\n                  }\n                  swipeDeltaRef.current = null;\n                  pointerStartRef.current = null;\n                  if (delta) {\n                    const toast = event.currentTarget;\n                    const eventDetail = { originalEvent: event, delta };\n                    if (isDeltaInDirection(delta, context.swipeDirection, context.swipeThreshold)) {\n                      handleAndDispatchCustomEvent(TOAST_SWIPE_END, onSwipeEnd, eventDetail, {\n                        discrete: true\n                      });\n                    } else {\n                      handleAndDispatchCustomEvent(\n                        TOAST_SWIPE_CANCEL,\n                        onSwipeCancel,\n                        eventDetail,\n                        {\n                          discrete: true\n                        }\n                      );\n                    }\n                    toast.addEventListener(\"click\", (event2) => event2.preventDefault(), {\n                      once: true\n                    });\n                  }\n                })\n              }\n            )\n          }\n        ) }),\n        context.viewport\n      ) })\n    ] });\n  }\n);\nvar ToastAnnounce = (props) => {\n  const { __scopeToast, children, ...announceProps } = props;\n  const context = useToastProviderContext(TOAST_NAME, __scopeToast);\n  const [renderAnnounceText, setRenderAnnounceText] = React.useState(false);\n  const [isAnnounced, setIsAnnounced] = React.useState(false);\n  useNextFrame(() => setRenderAnnounceText(true));\n  React.useEffect(() => {\n    const timer = window.setTimeout(() => setIsAnnounced(true), 1e3);\n    return () => window.clearTimeout(timer);\n  }, []);\n  return isAnnounced ? null : /* @__PURE__ */ jsx(Portal, { asChild: true, children: /* @__PURE__ */ jsx(VisuallyHidden, { ...announceProps, children: renderAnnounceText && /* @__PURE__ */ jsxs(Fragment, { children: [\n    context.label,\n    \" \",\n    children\n  ] }) }) });\n};\nvar TITLE_NAME = \"ToastTitle\";\nvar ToastTitle = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToast, ...titleProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { ...titleProps, ref: forwardedRef });\n  }\n);\nToastTitle.displayName = TITLE_NAME;\nvar DESCRIPTION_NAME = \"ToastDescription\";\nvar ToastDescription = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToast, ...descriptionProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { ...descriptionProps, ref: forwardedRef });\n  }\n);\nToastDescription.displayName = DESCRIPTION_NAME;\nvar ACTION_NAME = \"ToastAction\";\nvar ToastAction = React.forwardRef(\n  (props, forwardedRef) => {\n    const { altText, ...actionProps } = props;\n    if (!altText.trim()) {\n      console.error(\n        `Invalid prop \\`altText\\` supplied to \\`${ACTION_NAME}\\`. Expected non-empty \\`string\\`.`\n      );\n      return null;\n    }\n    return /* @__PURE__ */ jsx(ToastAnnounceExclude, { altText, asChild: true, children: /* @__PURE__ */ jsx(ToastClose, { ...actionProps, ref: forwardedRef }) });\n  }\n);\nToastAction.displayName = ACTION_NAME;\nvar CLOSE_NAME = \"ToastClose\";\nvar ToastClose = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToast, ...closeProps } = props;\n    const interactiveContext = useToastInteractiveContext(CLOSE_NAME, __scopeToast);\n    return /* @__PURE__ */ jsx(ToastAnnounceExclude, { asChild: true, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, interactiveContext.onClose)\n      }\n    ) });\n  }\n);\nToastClose.displayName = CLOSE_NAME;\nvar ToastAnnounceExclude = React.forwardRef((props, forwardedRef) => {\n  const { __scopeToast, altText, ...announceExcludeProps } = props;\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"data-radix-toast-announce-exclude\": \"\",\n      \"data-radix-toast-announce-alt\": altText || void 0,\n      ...announceExcludeProps,\n      ref: forwardedRef\n    }\n  );\n});\nfunction getAnnounceTextContent(container) {\n  const textContent = [];\n  const childNodes = Array.from(container.childNodes);\n  childNodes.forEach((node) => {\n    if (node.nodeType === node.TEXT_NODE && node.textContent) textContent.push(node.textContent);\n    if (isHTMLElement(node)) {\n      const isHidden = node.ariaHidden || node.hidden || node.style.display === \"none\";\n      const isExcluded = node.dataset.radixToastAnnounceExclude === \"\";\n      if (!isHidden) {\n        if (isExcluded) {\n          const altText = node.dataset.radixToastAnnounceAlt;\n          if (altText) textContent.push(altText);\n        } else {\n          textContent.push(...getAnnounceTextContent(node));\n        }\n      }\n    }\n  });\n  return textContent;\n}\nfunction handleAndDispatchCustomEvent(name, handler, detail, { discrete }) {\n  const currentTarget = detail.originalEvent.currentTarget;\n  const event = new CustomEvent(name, { bubbles: true, cancelable: true, detail });\n  if (handler) currentTarget.addEventListener(name, handler, { once: true });\n  if (discrete) {\n    dispatchDiscreteCustomEvent(currentTarget, event);\n  } else {\n    currentTarget.dispatchEvent(event);\n  }\n}\nvar isDeltaInDirection = (delta, direction, threshold = 0) => {\n  const deltaX = Math.abs(delta.x);\n  const deltaY = Math.abs(delta.y);\n  const isDeltaX = deltaX > deltaY;\n  if (direction === \"left\" || direction === \"right\") {\n    return isDeltaX && deltaX > threshold;\n  } else {\n    return !isDeltaX && deltaY > threshold;\n  }\n};\nfunction useNextFrame(callback = () => {\n}) {\n  const fn = useCallbackRef(callback);\n  useLayoutEffect(() => {\n    let raf1 = 0;\n    let raf2 = 0;\n    raf1 = window.requestAnimationFrame(() => raf2 = window.requestAnimationFrame(fn));\n    return () => {\n      window.cancelAnimationFrame(raf1);\n      window.cancelAnimationFrame(raf2);\n    };\n  }, [fn]);\n}\nfunction isHTMLElement(node) {\n  return node.nodeType === node.ELEMENT_NODE;\n}\nfunction getTabbableCandidates(container) {\n  const nodes = [];\n  const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: (node) => {\n      const isHiddenInput = node.tagName === \"INPUT\" && node.type === \"hidden\";\n      if (node.disabled || node.hidden || isHiddenInput) return NodeFilter.FILTER_SKIP;\n      return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    }\n  });\n  while (walker.nextNode()) nodes.push(walker.currentNode);\n  return nodes;\n}\nfunction focusFirst(candidates) {\n  const previouslyFocusedElement = document.activeElement;\n  return candidates.some((candidate) => {\n    if (candidate === previouslyFocusedElement) return true;\n    candidate.focus();\n    return document.activeElement !== previouslyFocusedElement;\n  });\n}\nvar Provider = ToastProvider;\nvar Viewport = ToastViewport;\nvar Root2 = Toast;\nvar Title = ToastTitle;\nvar Description = ToastDescription;\nvar Action = ToastAction;\nvar Close = ToastClose;\nexport {\n  Action,\n  Close,\n  Description,\n  Provider,\n  Root2 as Root,\n  Title,\n  Toast,\n  ToastAction,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n  Viewport,\n  createToastScope\n};\n//# sourceMappingURL=index.mjs.map\n","import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n","import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold [&+div]:text-xs\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","import { initializeApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\nimport { getStorage } from 'firebase/storage';\r\nimport { getDatabase } from 'firebase/database';\r\n\r\n// Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,\r\n  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: import.meta.env.VITE_FIREBASE_DATABASE_URL,\r\n  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,\r\n  storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: import.meta.env.VITE_FIREBASE_APP_ID,\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n// Initialize Firebase services\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport const storage = getStorage(app);\r\nexport const database = getDatabase(app);\r\n\r\n// Export the app instance\r\nexport default app;\r\n","import { \r\n  getFirestore, \r\n  collection, \r\n  doc, \r\n  getDocs, \r\n  getDoc, \r\n  addDoc, \r\n  updateDoc, \r\n  deleteDoc, \r\n  query, \r\n  limit, \r\n  Timestamp,\r\n  QueryConstraint,\r\n  DocumentData,\r\n  QueryDocumentSnapshot\r\n} from 'firebase/firestore';\r\nimport { getAuth } from 'firebase/auth';\r\n\r\n// Base service class for common Firebase operations\r\nexport abstract class BaseService {\r\n  protected db = getFirestore();\r\n  protected auth = getAuth();\r\n\r\n  // Generic error handler\r\n  protected handleError(error: unknown, operation: string): never {\r\n    console.error(`Error in ${operation}:`, error);\r\n    \r\n    if (error instanceof Error) {\r\n      throw new Error(`${operation} failed: ${error.message}`);\r\n    }\r\n    \r\n    throw new Error(`${operation} failed: Unknown error`);\r\n  }\r\n\r\n  // Get current user ID\r\n  protected getCurrentUserId(): string {\r\n    const user = this.auth.currentUser;\r\n    if (!user) {\r\n      throw new Error('User not authenticated');\r\n    }\r\n    return user.uid;\r\n  }\r\n\r\n  // Convert Firestore timestamp to Date\r\n  protected timestampToDate(timestamp: any): Date {\r\n    if (timestamp instanceof Timestamp) {\r\n      return timestamp.toDate();\r\n    }\r\n    if (timestamp?.toDate) {\r\n      return timestamp.toDate();\r\n    }\r\n    return new Date(timestamp);\r\n  }\r\n\r\n  // Add audit fields\r\n  protected addAuditFields(data: any, isUpdate = false): any {\r\n    const now = Timestamp.now();\r\n    const userId = this.getCurrentUserId();\r\n\r\n    if (isUpdate) {\r\n      return {\r\n        ...data,\r\n        updatedAt: now,\r\n        updatedBy: userId,\r\n      };\r\n    }\r\n\r\n    return {\r\n      ...data,\r\n      createdAt: now,\r\n      updatedAt: now,\r\n      createdBy: userId,\r\n      updatedBy: userId,\r\n    };\r\n  }\r\n\r\n  // Generic CRUD operations\r\n  protected async createDocument<T>(\r\n    collectionName: string, \r\n    data: Omit<T, 'id' | 'createdAt' | 'updatedAt' | 'createdBy' | 'updatedBy'>\r\n  ): Promise<T & { id: string }> {\r\n    try {\r\n      const docData = this.addAuditFields(data);\r\n      const docRef = await addDoc(collection(this.db, collectionName), docData);\r\n      \r\n      return {\r\n        id: docRef.id,\r\n        ...docData,\r\n      } as T & { id: string };\r\n    } catch (error) {\r\n      this.handleError(error, `create ${collectionName}`);\r\n    }\r\n  }\r\n\r\n  protected async getDocument<T>(\r\n    collectionName: string, \r\n    id: string\r\n  ): Promise<T | null> {\r\n    try {\r\n      const docRef = doc(this.db, collectionName, id);\r\n      const docSnap = await getDoc(docRef);\r\n      \r\n      if (!docSnap.exists()) {\r\n        return null;\r\n      }\r\n      \r\n      const data = docSnap.data();\r\n      return {\r\n        id: docSnap.id,\r\n        ...data,\r\n        createdAt: this.timestampToDate(data.createdAt),\r\n        updatedAt: this.timestampToDate(data.updatedAt),\r\n      } as T;\r\n    } catch (error) {\r\n      this.handleError(error, `get ${collectionName}`);\r\n    }\r\n  }\r\n\r\n  protected async updateDocument<T>(\r\n    collectionName: string, \r\n    id: string, \r\n    data: Partial<T>\r\n  ): Promise<void> {\r\n    try {\r\n      const docRef = doc(this.db, collectionName, id);\r\n      const updateData = this.addAuditFields(data, true);\r\n      await updateDoc(docRef, updateData);\r\n    } catch (error) {\r\n      this.handleError(error, `update ${collectionName}`);\r\n    }\r\n  }\r\n\r\n  protected async deleteDocument(\r\n    collectionName: string, \r\n    id: string\r\n  ): Promise<void> {\r\n    try {\r\n      const docRef = doc(this.db, collectionName, id);\r\n      await deleteDoc(docRef);\r\n    } catch (error) {\r\n      this.handleError(error, `delete ${collectionName}`);\r\n    }\r\n  }\r\n\r\n  protected async queryDocuments<T>(\r\n    collectionName: string,\r\n    constraints: QueryConstraint[] = []\r\n  ): Promise<T[]> {\r\n    try {\r\n      const q = query(collection(this.db, collectionName), ...constraints);\r\n      const querySnapshot = await getDocs(q);\r\n      \r\n      return querySnapshot.docs.map((doc) => {\r\n        const data = doc.data();\r\n        return {\r\n          id: doc.id,\r\n          ...data,\r\n          createdAt: this.timestampToDate(data.createdAt),\r\n          updatedAt: this.timestampToDate(data.updatedAt),\r\n        };\r\n      }) as T[];\r\n    } catch (error) {\r\n      this.handleError(error, `query ${collectionName}`);\r\n    }\r\n  }\r\n\r\n  // Pagination helper\r\n  protected async queryDocumentsWithPagination<T>(\r\n    collectionName: string,\r\n    constraints: QueryConstraint[] = [],\r\n    pageSize = 20,\r\n    lastDoc?: QueryDocumentSnapshot<DocumentData>\r\n  ): Promise<{\r\n    data: T[];\r\n    hasMore: boolean;\r\n    lastDoc?: QueryDocumentSnapshot<DocumentData>;\r\n  }> {\r\n    try {\r\n      let queryConstraints = [...constraints, limit(pageSize + 1)];\r\n      \r\n      if (lastDoc) {\r\n        queryConstraints.push(startAfter(lastDoc));\r\n      }\r\n\r\n      const q = query(collection(this.db, collectionName), ...queryConstraints);\r\n      const querySnapshot = await getDocs(q);\r\n      \r\n      const docs = querySnapshot.docs;\r\n      const hasMore = docs.length > pageSize;\r\n      const data = docs.slice(0, pageSize);\r\n      \r\n      const result = {\r\n        data: data.map((doc) => {\r\n          const docData = doc.data();\r\n          return {\r\n            id: doc.id,\r\n            ...docData,\r\n            createdAt: this.timestampToDate(docData.createdAt),\r\n            updatedAt: this.timestampToDate(docData.updatedAt),\r\n          };\r\n        }) as T[],\r\n        hasMore,\r\n        ...(hasMore && { lastDoc: docs[pageSize - 1] }),\r\n      };\r\n      \r\n      return result;\r\n    } catch (error) {\r\n      this.handleError(error, `paginated query ${collectionName}`);\r\n    }\r\n  }\r\n}\r\n\r\n// Helper function for startAfter import\r\nimport { startAfter } from 'firebase/firestore';","import { \r\n  User as FirebaseUser,\r\n  updateProfile,\r\n  sendEmailVerification,\r\n  updatePassword,\r\n  EmailAuthProvider,\r\n  reauthenticateWithCredential,\r\n  deleteUser\r\n} from 'firebase/auth';\r\nimport { \r\n  doc, \r\n  setDoc,\r\n  where,\r\n  orderBy\r\n} from 'firebase/firestore';\r\nimport { BaseService } from '../core/BaseService';\r\n\r\n// User data types\r\nexport interface UserProfile {\r\n  id: string;\r\n  email: string;\r\n  displayName: string;\r\n  photoURL?: string;\r\n  bio?: string;\r\n  website?: string;\r\n  location?: string;\r\n  // Newly added optional extended profile fields\r\n  phone?: string;\r\n  company?: string;\r\n  jobTitle?: string;\r\n  subscription?: 'free' | 'pro' | 'enterprise';\r\n  socialLinks?: {\r\n    github?: string;\r\n    twitter?: string;\r\n    linkedin?: string;\r\n  };\r\n  isEmailVerified: boolean;\r\n  lastLoginAt: Date;\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n  preferences: {\r\n    theme: 'light' | 'dark' | 'system';\r\n    notifications: {\r\n      email: boolean;\r\n      push: boolean;\r\n      security: boolean;\r\n      marketing: boolean;\r\n    };\r\n    privacy: {\r\n      profileVisibility: 'public' | 'private' | 'friends';\r\n      showEmail: boolean;\r\n      showLocation: boolean;\r\n    };\r\n  };\r\n}\r\n\r\nexport interface UpdateUserProfileData {\r\n  displayName?: string;\r\n  photoURL?: string;\r\n  bio?: string;\r\n  website?: string;\r\n  location?: string;\r\n  phone?: string;\r\n  company?: string;\r\n  jobTitle?: string;\r\n  subscription?: 'free' | 'pro' | 'enterprise';\r\n  socialLinks?: {\r\n    github?: string;\r\n    twitter?: string;\r\n    linkedin?: string;\r\n  };\r\n}\r\n\r\nexport interface UpdatePreferencesData {\r\n  theme?: 'light' | 'dark' | 'system';\r\n  notifications?: Partial<UserProfile['preferences']['notifications']>;\r\n  privacy?: Partial<UserProfile['preferences']['privacy']>;\r\n}\r\n\r\nexport interface ChangePasswordData {\r\n  currentPassword: string;\r\n  newPassword: string;\r\n}\r\n\r\n// User Management Service\r\nexport class UserService extends BaseService {\r\n  private readonly COLLECTION_NAME = 'users';\r\n\r\n  // Create user profile in Firestore\r\n  async createUserProfile(user: FirebaseUser): Promise<UserProfile> {\r\n    try {\r\n      const userProfile: Omit<UserProfile, 'id' | 'createdAt' | 'updatedAt'> = {\r\n        email: user.email!,\r\n        displayName: user.displayName || '',\r\n        ...(user.photoURL && { photoURL: user.photoURL }),\r\n        bio: '',\r\n        website: '',\r\n        location: '',\r\n        phone: '',\r\n        company: '',\r\n        jobTitle: '',\r\n        subscription: 'free',\r\n        socialLinks: {\r\n          github: '',\r\n          twitter: '',\r\n          linkedin: ''\r\n        },\r\n        isEmailVerified: user.emailVerified,\r\n        lastLoginAt: new Date(),\r\n        preferences: {\r\n          theme: 'system',\r\n          notifications: {\r\n            email: true,\r\n            push: true,\r\n            security: true,\r\n            marketing: false,\r\n          },\r\n          privacy: {\r\n            profileVisibility: 'public',\r\n            showEmail: false,\r\n            showLocation: false,\r\n          },\r\n        },\r\n      };\r\n\r\n      // Use setDoc with user ID to maintain consistency with Firebase Auth\r\n      const userDoc = doc(this.db, this.COLLECTION_NAME, user.uid);\r\n      const profileData = this.addAuditFields(userProfile);\r\n      \r\n      await setDoc(userDoc, profileData);\r\n\r\n      return {\r\n        id: user.uid,\r\n        ...profileData,\r\n        createdAt: this.timestampToDate(profileData.createdAt),\r\n        updatedAt: this.timestampToDate(profileData.updatedAt),\r\n      } as UserProfile;\r\n    } catch (error) {\r\n      this.handleError(error, 'createUserProfile');\r\n    }\r\n  }\r\n\r\n  // Get user profile\r\n  async getUserProfile(userId?: string): Promise<UserProfile | null> {\r\n    try {\r\n      const id = userId || this.getCurrentUserId();\r\n      return await this.getDocument<UserProfile>(this.COLLECTION_NAME, id);\r\n    } catch (error) {\r\n      this.handleError(error, 'getUserProfile');\r\n    }\r\n  }\r\n\r\n  // Update user profile\r\n  async updateUserProfile(userId: string, data: UpdateUserProfileData): Promise<UserProfile> {\r\n    try {\r\n      // Update Firebase Auth profile if display name or photo URL changed\r\n      const user = this.auth.currentUser;\r\n      if (user && user.uid === userId && (data.displayName !== undefined || data.photoURL !== undefined)) {\r\n        const updateData: { displayName?: string; photoURL?: string } = {};\r\n        if (data.displayName !== undefined) updateData.displayName = data.displayName;\r\n        if (data.photoURL !== undefined) updateData.photoURL = data.photoURL;\r\n        \r\n        await updateProfile(user, updateData);\r\n      }\r\n\r\n      // Update Firestore profile\r\n      await this.updateDocument(this.COLLECTION_NAME, userId, data);\r\n      \r\n      // Return updated profile\r\n      const updatedProfile = await this.getUserProfile(userId);\r\n      if (!updatedProfile) {\r\n        throw new Error('Failed to retrieve updated profile');\r\n      }\r\n      \r\n      return updatedProfile;\r\n    } catch (error) {\r\n      this.handleError(error, 'updateUserProfile');\r\n    }\r\n  }\r\n\r\n  // Update user preferences\r\n  async updatePreferences(data: UpdatePreferencesData): Promise<void> {\r\n    try {\r\n      const userId = this.getCurrentUserId();\r\n      const currentProfile = await this.getUserProfile(userId);\r\n      \r\n      if (!currentProfile) {\r\n        throw new Error('User profile not found');\r\n      }\r\n\r\n      const updatedPreferences = {\r\n        ...currentProfile.preferences,\r\n        ...data,\r\n        notifications: {\r\n          ...currentProfile.preferences.notifications,\r\n          ...data.notifications,\r\n        },\r\n        privacy: {\r\n          ...currentProfile.preferences.privacy,\r\n          ...data.privacy,\r\n        },\r\n      };\r\n\r\n      await this.updateDocument(this.COLLECTION_NAME, userId, {\r\n        preferences: updatedPreferences,\r\n      });\r\n    } catch (error) {\r\n      this.handleError(error, 'updatePreferences');\r\n    }\r\n  }\r\n\r\n  // Update last login time\r\n  async updateLastLogin(): Promise<void> {\r\n    try {\r\n      const userId = this.getCurrentUserId();\r\n      await this.updateDocument(this.COLLECTION_NAME, userId, {\r\n        lastLoginAt: new Date(),\r\n      });\r\n    } catch (error) {\r\n      this.handleError(error, 'updateLastLogin');\r\n    }\r\n  }\r\n\r\n  // Change password\r\n  async changePassword(data: ChangePasswordData): Promise<void> {\r\n    try {\r\n      const user = this.auth.currentUser;\r\n      if (!user || !user.email) {\r\n        throw new Error('User not authenticated');\r\n      }\r\n\r\n      // Re-authenticate user\r\n      const credential = EmailAuthProvider.credential(user.email, data.currentPassword);\r\n      await reauthenticateWithCredential(user, credential);\r\n\r\n      // Update password\r\n      await updatePassword(user, data.newPassword);\r\n    } catch (error) {\r\n      this.handleError(error, 'changePassword');\r\n    }\r\n  }\r\n\r\n  // Send email verification\r\n  async sendEmailVerification(): Promise<void> {\r\n    try {\r\n      const user = this.auth.currentUser;\r\n      if (!user) {\r\n        throw new Error('User not authenticated');\r\n      }\r\n\r\n      await sendEmailVerification(user);\r\n    } catch (error) {\r\n      this.handleError(error, 'sendEmailVerification');\r\n    }\r\n  }\r\n\r\n  // Delete user account\r\n  async deleteUserAccount(password: string): Promise<void> {\r\n    try {\r\n      const user = this.auth.currentUser;\r\n      if (!user || !user.email) {\r\n        throw new Error('User not authenticated');\r\n      }\r\n\r\n      // Re-authenticate user\r\n      const credential = EmailAuthProvider.credential(user.email, password);\r\n      await reauthenticateWithCredential(user, credential);\r\n\r\n      const userId = user.uid;\r\n\r\n      // Delete user profile from Firestore\r\n      await this.deleteDocument(this.COLLECTION_NAME, userId);\r\n\r\n      // Delete Firebase Auth user\r\n      await deleteUser(user);\r\n    } catch (error) {\r\n      this.handleError(error, 'deleteUserAccount');\r\n    }\r\n  }\r\n\r\n  // Search users (for admin or public profiles)\r\n  async searchUsers(searchTerm: string, limit = 10): Promise<UserProfile[]> {\r\n    try {\r\n      // Search by display name or email\r\n      const results = await this.queryDocuments<UserProfile>(\r\n        this.COLLECTION_NAME,\r\n        [\r\n          where('preferences.privacy.profileVisibility', '==', 'public'),\r\n          orderBy('displayName'),\r\n          // Note: Firestore doesn't support full-text search\r\n          // In production, consider using Algolia or similar\r\n        ]\r\n      );\r\n\r\n      // Client-side filtering for search term\r\n      return results.filter(user => \r\n        user.displayName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        user.email.toLowerCase().includes(searchTerm.toLowerCase())\r\n      ).slice(0, limit);\r\n    } catch (error) {\r\n      this.handleError(error, 'searchUsers');\r\n    }\r\n  }\r\n\r\n  // Get public user profiles\r\n  async getPublicProfiles(_limitCount = 20): Promise<UserProfile[]> {\r\n    try {\r\n      return await this.queryDocuments<UserProfile>(\r\n        this.COLLECTION_NAME,\r\n        [\r\n          where('preferences.privacy.profileVisibility', '==', 'public'),\r\n          orderBy('createdAt', 'desc'),\r\n          // limit(limitCount) // Uncomment when using with pagination\r\n        ]\r\n      );\r\n    } catch (error) {\r\n      return this.handleError(error, 'getPublicProfiles') as never;\r\n    }\r\n  }\r\n\r\n  // Check if user profile exists\r\n  async userProfileExists(userId?: string): Promise<boolean> {\r\n    try {\r\n      const id = userId || this.getCurrentUserId();\r\n      const profile = await this.getUserProfile(id);\r\n      return profile !== null;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Create or update user profile\r\n  async createOrUpdateUser(userData: {\r\n    id: string;\r\n    email: string;\r\n    displayName: string;\r\n    photoURL?: string;\r\n    subscription?: 'free' | 'pro' | 'enterprise';\r\n    phone?: string;\r\n    company?: string;\r\n    jobTitle?: string;\r\n    socialLinks?: {\r\n      github?: string;\r\n      twitter?: string;\r\n      linkedin?: string;\r\n    };\r\n    createdAt: Date;\r\n    updatedAt: Date;\r\n  }): Promise<UserProfile> {\r\n    try {\r\n      const profile: UserProfile = {\r\n        id: userData.id,\r\n        email: userData.email,\r\n        displayName: userData.displayName,\r\n        ...(userData.photoURL ? { photoURL: userData.photoURL } : {}),\r\n        bio: '',\r\n        website: '',\r\n        location: '',\r\n        phone: userData.phone || '',\r\n        company: userData.company || '',\r\n        jobTitle: userData.jobTitle || '',\r\n        subscription: userData.subscription || 'free',\r\n        socialLinks: userData.socialLinks || { github: '', twitter: '', linkedin: '' },\r\n        isEmailVerified: false,\r\n        lastLoginAt: new Date(),\r\n        createdAt: userData.createdAt,\r\n        updatedAt: userData.updatedAt,\r\n        preferences: {\r\n          theme: 'system',\r\n          notifications: {\r\n            email: true,\r\n            push: true,\r\n            security: true,\r\n            marketing: false\r\n          },\r\n          privacy: {\r\n            profileVisibility: 'public',\r\n            showEmail: false,\r\n            showLocation: false\r\n          }\r\n        }\r\n      };\r\n\r\n      await setDoc(doc(this.db, 'users', userData.id), profile);\r\n      return profile;\r\n    } catch (error) {\r\n      this.handleError(error, 'create/update user');\r\n    }\r\n  }\r\n\r\n  // Delete user and their data\r\n  async deleteUser(userId: string): Promise<void> {\r\n    try {\r\n      // Delete user profile from Firestore\r\n      await this.deleteDocument('users', userId);\r\n    } catch (error) {\r\n      this.handleError(error, 'delete user');\r\n    }\r\n  }\r\n}","import { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\nimport { \r\n  User as FirebaseUser,\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  signOut,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  updateProfile,\r\n  sendPasswordResetEmail,\r\n  updatePassword,\r\n  deleteUser\r\n} from 'firebase/auth';\r\nimport { auth } from '../lib/firebase';\r\nimport { UserService, UserProfile } from '../services/user/UserService';\r\n\r\n// AuthUser now optionally carries UserProfile directly\r\nexport interface AuthUser extends FirebaseUser { profile?: UserProfile }\r\n\r\nexport interface LoginCredentials {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nexport interface RegisterCredentials {\r\n  email: string;\r\n  password: string;\r\n  displayName: string;\r\n}\r\n\r\ninterface AuthContextType {\r\n  user: AuthUser | null;\r\n  loading: boolean;\r\n  error: string | null;\r\n  isAuthenticated: boolean;\r\n  hasProfile: boolean;\r\n  userProfile: UserProfile | null;\r\n  \r\n  // Authentication methods\r\n  signInWithEmail: (credentials: LoginCredentials) => Promise<void>;\r\n  signInWithGoogle: () => Promise<void>;\r\n  signUpWithEmail: (credentials: RegisterCredentials) => Promise<void>;\r\n  signOut: () => Promise<void>;\r\n  resetPassword: (email: string) => Promise<void>;\r\n  updatePassword: (newPassword: string) => Promise<void>;\r\n  deleteAccount: () => Promise<void>;\r\n  \r\n  // Profile methods\r\n  updateUserProfile: (profileData: Partial<UserProfile>) => Promise<void>;\r\n  refreshProfile: () => Promise<void>;\r\n  \r\n  // Utility methods\r\n  clearError: () => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\ninterface AuthProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function AuthProvider({ children }: AuthProviderProps) {\r\n  const [user, setUser] = useState<AuthUser | null>(null);\r\n  const [userProfile, setUserProfile] = useState<UserProfile | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  \r\n  const userService = new UserService();\r\n\r\n  // Load user profile\r\n  const loadUserProfile = async (uid: string) => {\r\n    try {\r\n      const profile = await userService.getUserProfile(uid);\r\n      setUserProfile(profile);\r\n      if (user && profile) setUser({ ...user, profile });\r\n    } catch (error) {\r\n      console.error('Error loading user profile:', error);\r\n      setUserProfile(null);\r\n    }\r\n  };\r\n\r\n  // Auth state listener\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, async (firebaseUser) => {\r\n      if (firebaseUser) {\r\n        const authUser: AuthUser = firebaseUser;\r\n        setUser(authUser);\r\n        \r\n        // Load user profile\r\n        await loadUserProfile(firebaseUser.uid);\r\n      } else {\r\n        setUser(null);\r\n        setUserProfile(null);\r\n      }\r\n      setLoading(false);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const signInWithEmail = async (credentials: LoginCredentials) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      await signInWithEmailAndPassword(auth, credentials.email, credentials.password);\r\n    } catch (error: any) {\r\n      setError(error.message);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const signInWithGoogle = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const provider = new GoogleAuthProvider();\r\n      const result = await signInWithPopup(auth, provider);\r\n      \r\n      // Create user profile if it doesn't exist\r\n      if (result.user) {\r\n        await userService.createOrUpdateUser({\r\n          id: result.user.uid,\r\n          email: result.user.email!,\r\n          displayName: result.user.displayName || '',\r\n          ...(result.user.photoURL && { photoURL: result.user.photoURL }),\r\n          subscription: 'free',\r\n          createdAt: new Date(),\r\n          updatedAt: new Date()\r\n        });\r\n      }\r\n    } catch (error: any) {\r\n      setError(error.message);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const signUpWithEmail = async (credentials: RegisterCredentials) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const result = await createUserWithEmailAndPassword(auth, credentials.email, credentials.password);\r\n      \r\n      // Update Firebase profile\r\n      if (result.user) {\r\n        await updateProfile(result.user, {\r\n          displayName: credentials.displayName\r\n        });\r\n\r\n        // Create user profile in Firestore\r\n        await userService.createOrUpdateUser({\r\n          id: result.user.uid,\r\n          email: credentials.email,\r\n          displayName: credentials.displayName,\r\n          subscription: 'free',\r\n          createdAt: new Date(),\r\n          updatedAt: new Date()\r\n        });\r\n      }\r\n    } catch (error: any) {\r\n      setError(error.message);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSignOut = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      await signOut(auth);\r\n      setUser(null);\r\n      setUserProfile(null);\r\n    } catch (error: any) {\r\n      setError(error.message);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetPassword = async (email: string) => {\r\n    try {\r\n      setError(null);\r\n      await sendPasswordResetEmail(auth, email);\r\n    } catch (error: any) {\r\n      setError(error.message);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleUpdatePassword = async (newPassword: string) => {\r\n    try {\r\n      setError(null);\r\n      if (!user) throw new Error('No user logged in');\r\n      await updatePassword(user, newPassword);\r\n    } catch (error: any) {\r\n      setError(error.message);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const deleteAccount = async () => {\r\n    try {\r\n      setError(null);\r\n      if (!user) throw new Error('No user logged in');\r\n      \r\n      // Delete user profile from Firestore\r\n      await userService.deleteUser(user.uid);\r\n      \r\n      // Delete Firebase user\r\n      await deleteUser(user);\r\n      \r\n      setUser(null);\r\n      setUserProfile(null);\r\n    } catch (error: any) {\r\n      setError(error.message);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const updateUserProfile = async (profileData: Partial<UserProfile>) => {\r\n    try {\r\n      setError(null);\r\n      if (!user) throw new Error('No user logged in');\r\n      \r\n      const updatedProfile = await userService.updateUserProfile(user.uid, profileData);\r\n      setUserProfile(updatedProfile);\r\n      setUser({ ...user, profile: updatedProfile });\r\n    } catch (error: any) {\r\n      setError(error.message);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const refreshProfile = async () => {\r\n    if (user) {\r\n      await loadUserProfile(user.uid);\r\n    }\r\n  };\r\n\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n\r\n  const value: AuthContextType = {\r\n    user,\r\n    userProfile,\r\n    loading,\r\n    error,\r\n    isAuthenticated: !!user,\r\n    hasProfile: !!userProfile,\r\n    signInWithEmail,\r\n    signInWithGoogle,\r\n    signUpWithEmail: signUpWithEmail,\r\n    signOut: handleSignOut,\r\n    resetPassword,\r\n    updatePassword: handleUpdatePassword,\r\n    deleteAccount,\r\n    updateUserProfile,\r\n    refreshProfile,\r\n    clearError\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n}\r\n","import { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\n\r\ntype Theme = 'light' | 'dark' | 'system';\r\n\r\ninterface ThemeContextType {\r\n  theme: Theme;\r\n  setTheme: (theme: Theme) => void;\r\n  resolvedTheme: 'light' | 'dark';\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\ninterface ThemeProviderProps {\r\n  children: ReactNode;\r\n  defaultTheme?: Theme;\r\n  storageKey?: string;\r\n}\r\n\r\nexport function ThemeProvider({ \r\n  children, \r\n  defaultTheme = 'system', \r\n  storageKey = 'stich-theme' \r\n}: ThemeProviderProps) {\r\n  const [theme, setTheme] = useState<Theme>(() => {\r\n    const stored = localStorage.getItem(storageKey);\r\n    return (stored as Theme) || defaultTheme;\r\n  });\r\n  \r\n  const [resolvedTheme, setResolvedTheme] = useState<'light' | 'dark'>('light');\r\n\r\n  useEffect(() => {\r\n    const root = window.document.documentElement;\r\n    root.classList.remove('light', 'dark');\r\n\r\n    let systemTheme: 'light' | 'dark' = 'light';\r\n    \r\n    if (theme === 'system') {\r\n      systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches \r\n        ? 'dark' \r\n        : 'light';\r\n    } else {\r\n      systemTheme = theme;\r\n    }\r\n\r\n    root.classList.add(systemTheme);\r\n    setResolvedTheme(systemTheme);\r\n  }, [theme]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(storageKey, theme);\r\n  }, [theme, storageKey]);\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{\r\n      theme,\r\n      setTheme,\r\n      resolvedTheme\r\n    }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useTheme() {\r\n  const context = useContext(ThemeContext);\r\n  if (context === undefined) {\r\n    throw new Error('useTheme must be used within a ThemeProvider');\r\n  }\r\n  return context;\r\n}\r\n","/**\r\n * Notification Toast Component\r\n * Custom toast component for the notification system\r\n */\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { X, CheckCircle, XCircle, AlertTriangle, Info } from 'lucide-react';\r\nimport { cn } from '../../lib/utils';\r\n\r\nexport interface NotificationData {\r\n  id: string;\r\n  type: 'success' | 'error' | 'warning' | 'info';\r\n  title: string;\r\n  message: string;\r\n  duration?: number;\r\n  action?: {\r\n    label: string;\r\n    onClick: () => void;\r\n  };\r\n  persistent?: boolean;\r\n  timestamp: Date;\r\n}\r\n\r\ninterface NotificationToastProps {\r\n  notification: NotificationData;\r\n  onClose: () => void;\r\n}\r\n\r\nconst toastVariants = {\r\n  success: {\r\n    container: 'bg-green-50 border-green-200 text-green-800',\r\n    icon: CheckCircle,\r\n    iconColor: 'text-green-500',\r\n  },\r\n  error: {\r\n    container: 'bg-red-50 border-red-200 text-red-800',\r\n    icon: XCircle,\r\n    iconColor: 'text-red-500',\r\n  },\r\n  warning: {\r\n    container: 'bg-yellow-50 border-yellow-200 text-yellow-800',\r\n    icon: AlertTriangle,\r\n    iconColor: 'text-yellow-500',\r\n  },\r\n  info: {\r\n    container: 'bg-blue-50 border-blue-200 text-blue-800',\r\n    icon: Info,\r\n    iconColor: 'text-blue-500',\r\n  },\r\n};\r\n\r\nexport function NotificationToast({ notification, onClose }: NotificationToastProps) {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [isExiting, setIsExiting] = useState(false);\r\n\r\n  const variant = toastVariants[notification.type];\r\n  const Icon = variant.icon;\r\n\r\n  // Animate in\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setIsVisible(true), 10);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  // Handle close with animation\r\n  const handleClose = () => {\r\n    setIsExiting(true);\r\n    setTimeout(() => {\r\n      onClose();\r\n    }, 200);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'relative max-w-sm w-full bg-white border rounded-lg shadow-lg p-4 transition-all duration-200 transform',\r\n        variant.container,\r\n        isVisible && !isExiting ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0',\r\n        isExiting && '-translate-x-full opacity-0'\r\n      )}\r\n    >\r\n      {/* Close button */}\r\n      <button\r\n        onClick={handleClose}\r\n        className=\"absolute top-2 right-2 p-1 rounded-full hover:bg-black/10 transition-colors\"\r\n        aria-label=\"Close notification\"\r\n      >\r\n        <X className=\"w-4 h-4\" />\r\n      </button>\r\n\r\n      <div className=\"flex items-start space-x-3\">\r\n        {/* Icon */}\r\n        <Icon className={cn('w-5 h-5 mt-0.5 flex-shrink-0', variant.iconColor)} />\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 min-w-0\">\r\n          <h4 className=\"text-sm font-medium mb-1\">{notification.title}</h4>\r\n          <p className=\"text-sm opacity-90\">{notification.message}</p>\r\n\r\n          {/* Action button */}\r\n          {notification.action && (\r\n            <button\r\n              onClick={notification.action.onClick}\r\n              className=\"mt-2 text-xs font-medium underline hover:no-underline transition-all\"\r\n            >\r\n              {notification.action.label}\r\n            </button>\r\n          )}\r\n\r\n          {/* Timestamp */}\r\n          <div className=\"mt-2 text-xs opacity-70\">\r\n            {notification.timestamp.toLocaleTimeString()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Progress bar for timed notifications */}\r\n      {!notification.persistent && notification.duration && notification.duration > 0 && (\r\n        <div className=\"absolute bottom-0 left-0 right-0 h-1 bg-black/10 rounded-b-lg overflow-hidden\">\r\n          <div\r\n            className=\"h-full bg-current opacity-50 animate-pulse\"\r\n            style={{\r\n              width: '100%',\r\n              transition: `width ${notification.duration}ms linear`,\r\n              animationDuration: `${notification.duration}ms`,\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}","/**\r\n * Notification Context\r\n * Manages toast notifications and real-time messaging throughout the app\r\n */\r\n\r\nimport React, { createContext, useContext, useState, useCallback } from 'react';\r\nimport { NotificationToast } from '../components/notifications/NotificationToast';\r\n// import { useAuth } from './AuthContext';\r\n// import { onMessage, getMessaging } from 'firebase/messaging';\r\n// import { app } from '../lib/firebase';\r\n\r\nexport interface NotificationData {\r\n  id: string;\r\n  type: 'success' | 'error' | 'warning' | 'info';\r\n  title: string;\r\n  message: string;\r\n  duration?: number;\r\n  action?: {\r\n    label: string;\r\n    onClick: () => void;\r\n  };\r\n  persistent?: boolean;\r\n  timestamp: Date;\r\n}\r\n\r\ninterface NotificationContextType {\r\n  notifications: NotificationData[];\r\n  addNotification: (notification: Omit<NotificationData, 'id' | 'timestamp'>) => string;\r\n  removeNotification: (id: string) => void;\r\n  clearAllNotifications: () => void;\r\n  showSuccess: (title: string, message: string, options?: Partial<NotificationData>) => string;\r\n  showError: (title: string, message: string, options?: Partial<NotificationData>) => string;\r\n  showWarning: (title: string, message: string, options?: Partial<NotificationData>) => string;\r\n  showInfo: (title: string, message: string, options?: Partial<NotificationData>) => string;\r\n}\r\n\r\nconst NotificationContext = createContext<NotificationContextType | undefined>(undefined);\r\n\r\nexport function useNotifications() {\r\n  const context = useContext(NotificationContext);\r\n  if (context === undefined) {\r\n    throw new Error('useNotifications must be used within a NotificationProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\ninterface NotificationProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function NotificationProvider({ children }: NotificationProviderProps) {\r\n  const [notifications, setNotifications] = useState<NotificationData[]>([]);\r\n  // const { user } = useAuth();\r\n\r\n  // Generate unique notification ID\r\n  const generateId = useCallback(() => {\r\n    return `notification_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n  }, []);\r\n\r\n  // Add notification\r\n  const addNotification = useCallback((notificationData: Omit<NotificationData, 'id' | 'timestamp'>) => {\r\n    const id = generateId();\r\n    const notification: NotificationData = {\r\n      ...notificationData,\r\n      id,\r\n      timestamp: new Date(),\r\n      duration: notificationData.duration ?? 5000, // Default 5 seconds\r\n    };\r\n\r\n    setNotifications(prev => [notification, ...prev]);\r\n\r\n    // Auto-remove notification after duration (unless persistent)\r\n    if (!notification.persistent && notification.duration && notification.duration > 0) {\r\n      setTimeout(() => {\r\n        removeNotification(id);\r\n      }, notification.duration);\r\n    }\r\n\r\n    return id;\r\n  }, [generateId]);\r\n\r\n  // Remove notification\r\n  const removeNotification = useCallback((id: string) => {\r\n    setNotifications(prev => prev.filter(notification => notification.id !== id));\r\n  }, []);\r\n\r\n  // Clear all notifications\r\n  const clearAllNotifications = useCallback(() => {\r\n    setNotifications([]);\r\n  }, []);\r\n\r\n  // Convenience methods for different notification types\r\n  const showSuccess = useCallback((title: string, message: string, options?: Partial<NotificationData>) => {\r\n    return addNotification({\r\n      type: 'success',\r\n      title,\r\n      message,\r\n      ...options,\r\n    });\r\n  }, [addNotification]);\r\n\r\n  const showError = useCallback((title: string, message: string, options?: Partial<NotificationData>) => {\r\n    return addNotification({\r\n      type: 'error',\r\n      title,\r\n      message,\r\n      persistent: options?.persistent ?? true, // Errors persist by default\r\n      ...options,\r\n    });\r\n  }, [addNotification]);\r\n\r\n  const showWarning = useCallback((title: string, message: string, options?: Partial<NotificationData>) => {\r\n    return addNotification({\r\n      type: 'warning',\r\n      title,\r\n      message,\r\n      ...options,\r\n    });\r\n  }, [addNotification]);\r\n\r\n  const showInfo = useCallback((title: string, message: string, options?: Partial<NotificationData>) => {\r\n    return addNotification({\r\n      type: 'info',\r\n      title,\r\n      message,\r\n      ...options,\r\n    });\r\n  }, [addNotification]);\r\n\r\n  // TODO: Setup Firebase messaging for push notifications\r\n  // useEffect(() => {\r\n  //   if (!user) return;\r\n  //   // Firebase messaging setup\r\n  // }, [user, addNotification]);\r\n\r\n  // TODO: Listen for real-time events (WebSocket-like with Firebase)\r\n  // useEffect(() => {\r\n  //   if (!user) return;\r\n  //   // Real-time listeners setup\r\n  // }, [user, addNotification]);\r\n\r\n  const value = {\r\n    notifications,\r\n    addNotification,\r\n    removeNotification,\r\n    clearAllNotifications,\r\n    showSuccess,\r\n    showError,\r\n    showWarning,\r\n    showInfo,\r\n  };\r\n\r\n  return (\r\n    <NotificationContext.Provider value={value}>\r\n      {children}\r\n      \r\n      {/* Render toast notifications */}\r\n      <div className=\"fixed top-4 right-4 z-50 space-y-2 max-w-sm\">\r\n        {notifications.slice(0, 5).map((notification) => (\r\n          <NotificationToast\r\n            key={notification.id}\r\n            notification={notification}\r\n            onClose={() => removeNotification(notification.id)}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Show count indicator if more than 5 notifications */}\r\n      {notifications.length > 5 && (\r\n        <div className=\"fixed top-4 right-4 z-40 bg-gray-800 text-white text-xs px-2 py-1 rounded-full\">\r\n          +{notifications.length - 5} more\r\n        </div>\r\n      )}\r\n    </NotificationContext.Provider>\r\n  );\r\n}","/**\r\n * Settings Context\r\n * Manages application settings and user preferences\r\n */\r\n\r\nimport React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\r\nimport { useNotifications } from './NotificationContext';\r\n\r\nexport interface UserSettings {\r\n  // Appearance\r\n  theme: 'light' | 'dark' | 'system';\r\n  language: string;\r\n  fontSize: 'small' | 'medium' | 'large';\r\n  reducedMotion: boolean;\r\n  \r\n  // Editor preferences\r\n  editorTheme: 'vs-light' | 'vs-dark' | 'hc-black';\r\n  editorFontSize: number;\r\n  editorTabSize: number;\r\n  editorWordWrap: boolean;\r\n  editorMinimap: boolean;\r\n  \r\n  // AI preferences\r\n  preferredAIProvider: 'openai' | 'anthropic' | 'google' | 'cerebras';\r\n  aiModel: string;\r\n  creativityLevel: number; // 0-1\r\n  codeStyle: 'clean' | 'documented' | 'minimal' | 'comprehensive';\r\n  \r\n  // Privacy\r\n  analytics: boolean;\r\n  crashReporting: boolean;\r\n  usageData: boolean;\r\n  marketingEmails: boolean;\r\n  \r\n  // Development\r\n  autoSave: boolean;\r\n  autoPreview: boolean;\r\n  showLineNumbers: boolean;\r\n  enableLinting: boolean;\r\n  \r\n  // Account\r\n  timezone: string;\r\n  dateFormat: 'MM/DD/YYYY' | 'DD/MM/YYYY' | 'YYYY-MM-DD';\r\n  timeFormat: '12h' | '24h';\r\n}\r\n\r\nconst defaultSettings: UserSettings = {\r\n  // Appearance\r\n  theme: 'system',\r\n  language: 'en',\r\n  fontSize: 'medium',\r\n  reducedMotion: false,\r\n  \r\n  // Editor\r\n  editorTheme: 'vs-dark',\r\n  editorFontSize: 14,\r\n  editorTabSize: 2,\r\n  editorWordWrap: true,\r\n  editorMinimap: true,\r\n  \r\n  // AI\r\n  preferredAIProvider: 'openai',\r\n  aiModel: 'gpt-4o',\r\n  creativityLevel: 0.7,\r\n  codeStyle: 'documented',\r\n  \r\n  // Privacy\r\n  analytics: true,\r\n  crashReporting: true,\r\n  usageData: true,\r\n  marketingEmails: false,\r\n  \r\n  // Development\r\n  autoSave: true,\r\n  autoPreview: false,\r\n  showLineNumbers: true,\r\n  enableLinting: true,\r\n  \r\n  // Account\r\n  timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n  dateFormat: 'MM/DD/YYYY',\r\n  timeFormat: '12h',\r\n};\r\n\r\ninterface SettingsContextType {\r\n  settings: UserSettings;\r\n  updateSetting: <K extends keyof UserSettings>(key: K, value: UserSettings[K]) => Promise<void>;\r\n  updateSettings: (updates: Partial<UserSettings>) => Promise<void>;\r\n  resetSettings: () => Promise<void>;\r\n  exportSettings: () => string;\r\n  importSettings: (settingsJson: string) => Promise<boolean>;\r\n  loading: boolean;\r\n}\r\n\r\nconst SettingsContext = createContext<SettingsContextType | undefined>(undefined);\r\n\r\nexport function useSettings() {\r\n  const context = useContext(SettingsContext);\r\n  if (context === undefined) {\r\n    throw new Error('useSettings must be used within a SettingsProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\ninterface SettingsProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function SettingsProvider({ children }: SettingsProviderProps) {\r\n  const [settings, setSettings] = useState<UserSettings>(defaultSettings);\r\n  const [loading, setLoading] = useState(true);\r\n  const { showSuccess, showError } = useNotifications();\r\n\r\n  // Load settings on mount\r\n  useEffect(() => {\r\n    loadSettings();\r\n  }, []);\r\n\r\n  // Apply theme changes\r\n  useEffect(() => {\r\n    applyTheme(settings.theme);\r\n  }, [settings.theme]);\r\n\r\n  // Apply font size changes\r\n  useEffect(() => {\r\n    applyFontSize(settings.fontSize);\r\n  }, [settings.fontSize]);\r\n\r\n  // Apply reduced motion preference\r\n  useEffect(() => {\r\n    applyReducedMotion(settings.reducedMotion);\r\n  }, [settings.reducedMotion]);\r\n\r\n  const loadSettings = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Load from localStorage\r\n      const savedSettings = localStorage.getItem('user-settings');\r\n      if (savedSettings) {\r\n        const parsed = JSON.parse(savedSettings);\r\n        setSettings({ ...defaultSettings, ...parsed });\r\n      }\r\n\r\n      // TODO: Load from backend/user profile\r\n      // const userSettings = await api.getUserSettings();\r\n      // setSettings({ ...defaultSettings, ...userSettings });\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to load settings:', error);\r\n      showError('Settings Error', 'Failed to load your settings. Using defaults.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const saveSettings = async (newSettings: UserSettings) => {\r\n    try {\r\n      // Save to localStorage\r\n      localStorage.setItem('user-settings', JSON.stringify(newSettings));\r\n      \r\n      // TODO: Save to backend\r\n      // await api.updateUserSettings(newSettings);\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Failed to save settings:', error);\r\n      showError('Save Failed', 'Unable to save your settings. Please try again.');\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const updateSetting = useCallback(async <K extends keyof UserSettings>(\r\n    key: K,\r\n    value: UserSettings[K]\r\n  ) => {\r\n    const newSettings = { ...settings, [key]: value };\r\n    setSettings(newSettings);\r\n    \r\n    const success = await saveSettings(newSettings);\r\n    if (success) {\r\n      showSuccess('Settings Updated', `${key} has been updated successfully.`);\r\n    }\r\n  }, [settings, saveSettings, showSuccess]);\r\n\r\n  const updateSettings = useCallback(async (updates: Partial<UserSettings>) => {\r\n    const newSettings = { ...settings, ...updates };\r\n    setSettings(newSettings);\r\n    \r\n    const success = await saveSettings(newSettings);\r\n    if (success) {\r\n      showSuccess('Settings Updated', 'Your preferences have been saved.');\r\n    }\r\n  }, [settings, saveSettings, showSuccess]);\r\n\r\n  const resetSettings = useCallback(async () => {\r\n    setSettings(defaultSettings);\r\n    const success = await saveSettings(defaultSettings);\r\n    if (success) {\r\n      showSuccess('Settings Reset', 'All settings have been reset to defaults.');\r\n    }\r\n  }, [saveSettings, showSuccess]);\r\n\r\n  const exportSettings = useCallback(() => {\r\n    return JSON.stringify(settings, null, 2);\r\n  }, [settings]);\r\n\r\n  const importSettings = useCallback(async (settingsJson: string): Promise<boolean> => {\r\n    try {\r\n      const importedSettings = JSON.parse(settingsJson);\r\n      \r\n      // Validate imported settings\r\n      const validatedSettings = { ...defaultSettings, ...importedSettings };\r\n      \r\n      setSettings(validatedSettings);\r\n      const success = await saveSettings(validatedSettings);\r\n      \r\n      if (success) {\r\n        showSuccess('Settings Imported', 'Your settings have been imported successfully.');\r\n      }\r\n      \r\n      return success;\r\n    } catch (error) {\r\n      console.error('Failed to import settings:', error);\r\n      showError('Import Failed', 'Invalid settings file. Please check the format and try again.');\r\n      return false;\r\n    }\r\n  }, [saveSettings, showSuccess, showError]);\r\n\r\n  // Theme application\r\n  const applyTheme = (theme: UserSettings['theme']) => {\r\n    const root = document.documentElement;\r\n    \r\n    if (theme === 'system') {\r\n      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n      root.classList.toggle('dark', prefersDark);\r\n    } else {\r\n      root.classList.toggle('dark', theme === 'dark');\r\n    }\r\n  };\r\n\r\n  // Font size application\r\n  const applyFontSize = (fontSize: UserSettings['fontSize']) => {\r\n    const root = document.documentElement;\r\n    const sizeMap = {\r\n      small: '14px',\r\n      medium: '16px',\r\n      large: '18px',\r\n    };\r\n    root.style.fontSize = sizeMap[fontSize];\r\n  };\r\n\r\n  // Reduced motion application\r\n  const applyReducedMotion = (reducedMotion: boolean) => {\r\n    const root = document.documentElement;\r\n    root.classList.toggle('reduce-motion', reducedMotion);\r\n  };\r\n\r\n  const value = {\r\n    settings,\r\n    updateSetting,\r\n    updateSettings,\r\n    resetSettings,\r\n    exportSettings,\r\n    importSettings,\r\n    loading,\r\n  };\r\n\r\n  return (\r\n    <SettingsContext.Provider value={value}>\r\n      {children}\r\n    </SettingsContext.Provider>\r\n  );\r\n}","/**\r\n * Search Context\r\n * Manages global search state and functionality\r\n */\r\n\r\nimport React, { createContext, useContext, useState, useCallback, useEffect } from 'react';\r\nimport { useNotifications } from './NotificationContext';\r\n\r\nexport interface SearchResult {\r\n  id: string;\r\n  type: 'app' | 'template' | 'user' | 'file' | 'chat' | 'documentation';\r\n  title: string;\r\n  description: string;\r\n  url: string;\r\n  thumbnail?: string;\r\n  tags: string[];\r\n  category: string;\r\n  author?: {\r\n    id: string;\r\n    name: string;\r\n    avatar?: string;\r\n  };\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n  metadata?: {\r\n    framework?: string;\r\n    language?: string;\r\n    difficulty?: 'beginner' | 'intermediate' | 'advanced';\r\n    rating?: number;\r\n    downloads?: number;\r\n    likes?: number;\r\n  };\r\n}\r\n\r\nexport interface SearchFilters {\r\n  type?: string[];\r\n  category?: string[];\r\n  tags?: string[];\r\n  framework?: string[];\r\n  language?: string[];\r\n  difficulty?: string[];\r\n  dateRange?: {\r\n    start: Date;\r\n    end: Date;\r\n  };\r\n  rating?: {\r\n    min: number;\r\n    max: number;\r\n  };\r\n  sortBy?: 'relevance' | 'date' | 'rating' | 'downloads' | 'alphabetical';\r\n  sortOrder?: 'asc' | 'desc';\r\n}\r\n\r\nexport interface SearchOptions {\r\n  filters: SearchFilters;\r\n  page: number;\r\n  limit: number;\r\n  includeContent?: boolean;\r\n  fuzzySearch?: boolean;\r\n}\r\n\r\ninterface SearchContextType {\r\n  // Search state\r\n  query: string;\r\n  results: SearchResult[];\r\n  filters: SearchFilters;\r\n  loading: boolean;\r\n  hasMore: boolean;\r\n  totalResults: number;\r\n  \r\n  // Recent searches\r\n  recentSearches: string[];\r\n  popularSearches: string[];\r\n  \r\n  // Search actions\r\n  search: (query: string, options?: Partial<SearchOptions>) => Promise<void>;\r\n  clearSearch: () => void;\r\n  updateFilters: (filters: Partial<SearchFilters>) => void;\r\n  loadMore: () => Promise<void>;\r\n  \r\n  // Search suggestions\r\n  getSuggestions: (query: string) => Promise<string[]>;\r\n  \r\n  // Recent searches management\r\n  addRecentSearch: (query: string) => void;\r\n  clearRecentSearches: () => void;\r\n  \r\n  // Quick search\r\n  quickSearch: (query: string, type?: string) => Promise<SearchResult[]>;\r\n}\r\n\r\nconst SearchContext = createContext<SearchContextType | undefined>(undefined);\r\n\r\nexport function useSearch() {\r\n  const context = useContext(SearchContext);\r\n  if (context === undefined) {\r\n    throw new Error('useSearch must be used within a SearchProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\ninterface SearchProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function SearchProvider({ children }: SearchProviderProps) {\r\n  const [query, setQuery] = useState('');\r\n  const [results, setResults] = useState<SearchResult[]>([]);\r\n  const [filters, setFilters] = useState<SearchFilters>({\r\n    sortBy: 'relevance',\r\n    sortOrder: 'desc',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [totalResults, setTotalResults] = useState(0);\r\n  const [recentSearches, setRecentSearches] = useState<string[]>([]);\r\n  const [popularSearches, setPopularSearches] = useState<string[]>([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  \r\n  const { showError } = useNotifications();\r\n\r\n  // Load recent searches from localStorage on mount\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem('recent-searches');\r\n    if (saved) {\r\n      try {\r\n        setRecentSearches(JSON.parse(saved));\r\n      } catch (error) {\r\n        console.error('Failed to load recent searches:', error);\r\n      }\r\n    }\r\n    \r\n    // Load popular searches\r\n    loadPopularSearches();\r\n  }, []);\r\n\r\n  // Save recent searches to localStorage\r\n  useEffect(() => {\r\n    localStorage.setItem('recent-searches', JSON.stringify(recentSearches));\r\n  }, [recentSearches]);\r\n\r\n  const loadPopularSearches = async () => {\r\n    try {\r\n      // TODO: Replace with actual API call\r\n      const mockPopular = [\r\n        'React components',\r\n        'E-commerce template',\r\n        'Dashboard app',\r\n        'Landing page',\r\n        'Portfolio website',\r\n        'Blog template',\r\n        'Chat application',\r\n        'Authentication',\r\n      ];\r\n      setPopularSearches(mockPopular);\r\n    } catch (error) {\r\n      console.error('Failed to load popular searches:', error);\r\n    }\r\n  };\r\n\r\n  const search = useCallback(async (searchQuery: string, options: Partial<SearchOptions> = {}) => {\r\n    if (!searchQuery.trim()) {\r\n      setResults([]);\r\n      setTotalResults(0);\r\n      setHasMore(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setQuery(searchQuery);\r\n    \r\n    const searchOptions: SearchOptions = {\r\n      filters: { ...filters, ...options.filters },\r\n      page: options.page || 1,\r\n      limit: options.limit || 20,\r\n      includeContent: options.includeContent || false,\r\n      fuzzySearch: options.fuzzySearch !== false,\r\n    };\r\n\r\n    try {\r\n      // TODO: Replace with actual API call\r\n      const mockResults = await mockSearchAPI(searchQuery, searchOptions);\r\n      \r\n      if (searchOptions.page === 1) {\r\n        setResults(mockResults.results);\r\n        setCurrentPage(1);\r\n      } else {\r\n        setResults(prev => [...prev, ...mockResults.results]);\r\n        setCurrentPage(searchOptions.page);\r\n      }\r\n      \r\n      setTotalResults(mockResults.total);\r\n      setHasMore(mockResults.hasMore);\r\n      \r\n      // Add to recent searches\r\n      addRecentSearch(searchQuery);\r\n      \r\n    } catch (error) {\r\n      console.error('Search failed:', error);\r\n      showError('Search Error', 'Failed to perform search. Please try again.');\r\n      setResults([]);\r\n      setTotalResults(0);\r\n      setHasMore(false);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters, showError]);\r\n\r\n  const clearSearch = useCallback(() => {\r\n    setQuery('');\r\n    setResults([]);\r\n    setTotalResults(0);\r\n    setHasMore(false);\r\n    setCurrentPage(1);\r\n  }, []);\r\n\r\n  const updateFilters = useCallback((newFilters: Partial<SearchFilters>) => {\r\n    setFilters(prev => ({ ...prev, ...newFilters }));\r\n    \r\n    // Re-search with new filters if there's an active query\r\n    if (query) {\r\n      search(query, { filters: newFilters, page: 1 });\r\n    }\r\n  }, [query, search]);\r\n\r\n  const loadMore = useCallback(async () => {\r\n    if (!hasMore || loading || !query) return;\r\n    \r\n    await search(query, { page: currentPage + 1 });\r\n  }, [hasMore, loading, query, currentPage, search]);\r\n\r\n  const getSuggestions = useCallback(async (searchQuery: string): Promise<string[]> => {\r\n    if (!searchQuery.trim()) return [];\r\n    \r\n    try {\r\n      // TODO: Replace with actual API call\r\n      const suggestions = await mockSuggestionsAPI(searchQuery);\r\n      return suggestions;\r\n    } catch (error) {\r\n      console.error('Failed to get suggestions:', error);\r\n      return [];\r\n    }\r\n  }, []);\r\n\r\n  const addRecentSearch = useCallback((searchQuery: string) => {\r\n    const trimmed = searchQuery.trim().toLowerCase();\r\n    if (!trimmed) return;\r\n    \r\n    setRecentSearches(prev => {\r\n      const filtered = prev.filter(item => item.toLowerCase() !== trimmed);\r\n      return [trimmed, ...filtered].slice(0, 10); // Keep only 10 recent searches\r\n    });\r\n  }, []);\r\n\r\n  const clearRecentSearches = useCallback(() => {\r\n    setRecentSearches([]);\r\n  }, []);\r\n\r\n  const quickSearch = useCallback(async (searchQuery: string, type?: string): Promise<SearchResult[]> => {\r\n    try {\r\n      const searchOptions: SearchOptions = {\r\n        filters: type ? { type: [type] } : {},\r\n        page: 1,\r\n        limit: 5,\r\n        fuzzySearch: true,\r\n      };\r\n      \r\n      // TODO: Replace with actual API call\r\n      const mockResults = await mockSearchAPI(searchQuery, searchOptions);\r\n      return mockResults.results;\r\n    } catch (error) {\r\n      console.error('Quick search failed:', error);\r\n      return [];\r\n    }\r\n  }, []);\r\n\r\n  const value = {\r\n    // Search state\r\n    query,\r\n    results,\r\n    filters,\r\n    loading,\r\n    hasMore,\r\n    totalResults,\r\n    \r\n    // Recent searches\r\n    recentSearches,\r\n    popularSearches,\r\n    \r\n    // Search actions\r\n    search,\r\n    clearSearch,\r\n    updateFilters,\r\n    loadMore,\r\n    \r\n    // Search suggestions\r\n    getSuggestions,\r\n    \r\n    // Recent searches management\r\n    addRecentSearch,\r\n    clearRecentSearches,\r\n    \r\n    // Quick search\r\n    quickSearch,\r\n  };\r\n\r\n  return (\r\n    <SearchContext.Provider value={value}>\r\n      {children}\r\n    </SearchContext.Provider>\r\n  );\r\n}\r\n\r\n// Mock API functions (replace with actual API calls)\r\nasync function mockSearchAPI(query: string, options: SearchOptions) {\r\n  // Simulate API delay\r\n  await new Promise(resolve => setTimeout(resolve, 500 + Math.random() * 500));\r\n  \r\n  const mockResults: SearchResult[] = [\r\n    {\r\n      id: '1',\r\n      type: 'app',\r\n      title: 'E-commerce Dashboard',\r\n      description: 'Modern React e-commerce dashboard with analytics and inventory management',\r\n      url: '/apps/ecommerce-dashboard',\r\n      thumbnail: '/thumbnails/ecommerce-dashboard.jpg',\r\n      tags: ['react', 'ecommerce', 'dashboard', 'analytics'],\r\n      category: 'Business',\r\n      author: {\r\n        id: 'user1',\r\n        name: 'John Doe',\r\n        avatar: '/avatars/john-doe.jpg',\r\n      },\r\n      createdAt: new Date('2024-10-01'),\r\n      updatedAt: new Date('2024-10-03'),\r\n      metadata: {\r\n        framework: 'React',\r\n        language: 'TypeScript',\r\n        difficulty: 'intermediate',\r\n        rating: 4.8,\r\n        downloads: 1234,\r\n        likes: 89,\r\n      },\r\n    },\r\n    {\r\n      id: '2',\r\n      type: 'template',\r\n      title: 'Landing Page Template',\r\n      description: 'Beautiful responsive landing page template with animations',\r\n      url: '/templates/landing-page',\r\n      thumbnail: '/thumbnails/landing-page.jpg',\r\n      tags: ['landing', 'template', 'responsive', 'animations'],\r\n      category: 'Marketing',\r\n      author: {\r\n        id: 'user2',\r\n        name: 'Jane Smith',\r\n        avatar: '/avatars/jane-smith.jpg',\r\n      },\r\n      createdAt: new Date('2024-09-28'),\r\n      updatedAt: new Date('2024-10-02'),\r\n      metadata: {\r\n        framework: 'Next.js',\r\n        language: 'TypeScript',\r\n        difficulty: 'beginner',\r\n        rating: 4.6,\r\n        downloads: 2156,\r\n        likes: 145,\r\n      },\r\n    },\r\n    {\r\n      id: '3',\r\n      type: 'app',\r\n      title: 'Chat Application',\r\n      description: 'Real-time chat application with file sharing and emoji support',\r\n      url: '/apps/chat-app',\r\n      thumbnail: '/thumbnails/chat-app.jpg',\r\n      tags: ['chat', 'realtime', 'messaging', 'file-sharing'],\r\n      category: 'Communication',\r\n      author: {\r\n        id: 'user3',\r\n        name: 'Mike Johnson',\r\n        avatar: '/avatars/mike-johnson.jpg',\r\n      },\r\n      createdAt: new Date('2024-09-25'),\r\n      updatedAt: new Date('2024-10-01'),\r\n      metadata: {\r\n        framework: 'React',\r\n        language: 'JavaScript',\r\n        difficulty: 'advanced',\r\n        rating: 4.9,\r\n        downloads: 987,\r\n        likes: 203,\r\n      },\r\n    },\r\n  ];\r\n\r\n  // Filter results based on query and options\r\n  const filteredResults = mockResults.filter(result => {\r\n    const queryMatch = result.title.toLowerCase().includes(query.toLowerCase()) ||\r\n                     result.description.toLowerCase().includes(query.toLowerCase()) ||\r\n                     result.tags.some(tag => tag.toLowerCase().includes(query.toLowerCase()));\r\n    \r\n    if (!queryMatch) return false;\r\n    \r\n    // Apply filters\r\n    if (options.filters.type && !options.filters.type.includes(result.type)) return false;\r\n    if (options.filters.category && !options.filters.category.includes(result.category)) return false;\r\n    if (options.filters.framework && result.metadata?.framework && \r\n        !options.filters.framework.includes(result.metadata.framework)) return false;\r\n    \r\n    return true;\r\n  });\r\n\r\n  // Sort results\r\n  const sortedResults = [...filteredResults].sort((a, b) => {\r\n    const { sortBy = 'relevance', sortOrder = 'desc' } = options.filters;\r\n    const multiplier = sortOrder === 'asc' ? 1 : -1;\r\n    \r\n    switch (sortBy) {\r\n      case 'date':\r\n        return (new Date(b.updatedAt).getTime() - new Date(a.updatedAt).getTime()) * multiplier;\r\n      case 'rating':\r\n        return ((b.metadata?.rating || 0) - (a.metadata?.rating || 0)) * multiplier;\r\n      case 'downloads':\r\n        return ((b.metadata?.downloads || 0) - (a.metadata?.downloads || 0)) * multiplier;\r\n      case 'alphabetical':\r\n        return a.title.localeCompare(b.title) * multiplier;\r\n      default: // relevance\r\n        return 0;\r\n    }\r\n  });\r\n\r\n  // Paginate results\r\n  const startIndex = (options.page - 1) * options.limit;\r\n  const paginatedResults = sortedResults.slice(startIndex, startIndex + options.limit);\r\n  \r\n  return {\r\n    results: paginatedResults,\r\n    total: sortedResults.length,\r\n    hasMore: startIndex + options.limit < sortedResults.length,\r\n  };\r\n}\r\n\r\nasync function mockSuggestionsAPI(query: string): Promise<string[]> {\r\n  // Simulate API delay\r\n  await new Promise(resolve => setTimeout(resolve, 200));\r\n  \r\n  const suggestions = [\r\n    'React components',\r\n    'React dashboard',\r\n    'React e-commerce',\r\n    'React authentication',\r\n    'React charts',\r\n    'Next.js template',\r\n    'Next.js blog',\r\n    'Next.js landing page',\r\n    'TypeScript app',\r\n    'TypeScript components',\r\n  ];\r\n  \r\n  return suggestions\r\n    .filter(s => s.toLowerCase().includes(query.toLowerCase()))\r\n    .slice(0, 6);\r\n}","/**\r\n * Global Error Handler Component\r\n * Sets up global error handling and provides error reporting\r\n */\r\n\r\nimport React, { useEffect } from 'react';\r\nimport { useGlobalErrorHandler } from '../../hooks/useError';\r\nimport { useNotifications } from '../../contexts/NotificationContext';\r\n\r\ninterface GlobalErrorHandlerProps {\r\n  children: React.ReactNode;\r\n  enableReporting?: boolean;\r\n}\r\n\r\nexport function GlobalErrorHandler({ children, enableReporting = true }: GlobalErrorHandlerProps) {\r\n  const { setupGlobalHandlers } = useGlobalErrorHandler();\r\n  const { showError } = useNotifications();\r\n\r\n  useEffect(() => {\r\n    const cleanup = setupGlobalHandlers();\r\n\r\n    // Setup additional error reporting if enabled\r\n    if (enableReporting) {\r\n      // Monitor for console errors in development\r\n      if (process.env.NODE_ENV === 'development') {\r\n        const originalError = console.error;\r\n        console.error = (...args) => {\r\n          originalError.apply(console, args);\r\n          \r\n          // Show notification for console errors that might be missed\r\n          if (args[0] && typeof args[0] === 'string' && args[0].includes('Warning:')) {\r\n            // Skip React warnings in development\r\n            return;\r\n          }\r\n          \r\n          showError(\r\n            'Console Error',\r\n            'An error was logged to the console. Check developer tools for details.',\r\n            { duration: 3000 }\r\n          );\r\n        };\r\n\r\n        return () => {\r\n          console.error = originalError;\r\n          cleanup();\r\n        };\r\n      }\r\n    }\r\n\r\n    return cleanup;\r\n  }, [setupGlobalHandlers, showError, enableReporting]);\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n// Error reporting service\r\nexport class ErrorReportingService {\r\n  private static instance: ErrorReportingService;\r\n  private apiEndpoint = '/api/errors';\r\n\r\n  static getInstance(): ErrorReportingService {\r\n    if (!ErrorReportingService.instance) {\r\n      ErrorReportingService.instance = new ErrorReportingService();\r\n    }\r\n    return ErrorReportingService.instance;\r\n  }\r\n\r\n  async reportError(error: {\r\n    errorId: string;\r\n    message: string;\r\n    stack?: string;\r\n    componentStack?: string;\r\n    userAgent: string;\r\n    url: string;\r\n    timestamp: string;\r\n    userId?: string;\r\n    sessionId?: string;\r\n    buildVersion?: string;\r\n  }): Promise<boolean> {\r\n    try {\r\n      const response = await fetch(this.apiEndpoint, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          ...error,\r\n          environment: process.env.NODE_ENV,\r\n          buildVersion: process.env.VITE_BUILD_VERSION || 'unknown',\r\n        }),\r\n      });\r\n\r\n      return response.ok;\r\n    } catch (reportingError) {\r\n      console.error('Failed to report error:', reportingError);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async reportPerformanceIssue(issue: {\r\n    type: 'slow_component' | 'memory_leak' | 'large_bundle' | 'slow_api';\r\n    componentName?: string;\r\n    duration?: number;\r\n    memoryUsage?: number;\r\n    bundleSize?: number;\r\n    apiEndpoint?: string;\r\n    details?: any;\r\n  }): Promise<boolean> {\r\n    try {\r\n      const response = await fetch('/api/performance', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          ...issue,\r\n          timestamp: new Date().toISOString(),\r\n          userAgent: navigator.userAgent,\r\n          url: window.location.href,\r\n        }),\r\n      });\r\n\r\n      return response.ok;\r\n    } catch (error) {\r\n      console.error('Failed to report performance issue:', error);\r\n      return false;\r\n    }\r\n  }\r\n}","/**\r\n * Error Handling Hook\r\n * Centralized error handling for API calls and operations\r\n */\r\n\r\nimport { useState, useCallback } from 'react';\r\nimport { useNotifications } from '../contexts/NotificationContext';\r\n\r\nexport interface APIError {\r\n  message: string;\r\n  code?: string | number;\r\n  details?: any;\r\n  timestamp: Date;\r\n}\r\n\r\nexport interface AsyncState<T> {\r\n  data: T | null;\r\n  loading: boolean;\r\n  error: APIError | null;\r\n}\r\n\r\nexport function useAsyncOperation<T = any>() {\r\n  const [state, setState] = useState<AsyncState<T>>({\r\n    data: null,\r\n    loading: false,\r\n    error: null,\r\n  });\r\n\r\n  const { showError } = useNotifications();\r\n\r\n  const execute = useCallback(async (\r\n    operation: () => Promise<T>,\r\n    options?: {\r\n      showErrorNotification?: boolean;\r\n      errorMessage?: string;\r\n      onSuccess?: (data: T) => void;\r\n      onError?: (error: APIError) => void;\r\n    }\r\n  ): Promise<T | null> => {\r\n    const {\r\n      showErrorNotification = true,\r\n      errorMessage,\r\n      onSuccess,\r\n      onError,\r\n    } = options || {};\r\n\r\n    setState(prev => ({ ...prev, loading: true, error: null }));\r\n\r\n    try {\r\n      const result = await operation();\r\n      \r\n      setState({\r\n        data: result,\r\n        loading: false,\r\n        error: null,\r\n      });\r\n\r\n      if (onSuccess) {\r\n        onSuccess(result);\r\n      }\r\n\r\n      return result;\r\n    } catch (error) {\r\n      const apiError: APIError = {\r\n        message: error instanceof Error ? error.message : 'An unexpected error occurred',\r\n        code: (error as any)?.code || (error as any)?.status,\r\n        details: error,\r\n        timestamp: new Date(),\r\n      };\r\n\r\n      setState({\r\n        data: null,\r\n        loading: false,\r\n        error: apiError,\r\n      });\r\n\r\n      if (showErrorNotification) {\r\n        showError(\r\n          'Operation Failed',\r\n          errorMessage || apiError.message,\r\n          {\r\n            action: {\r\n              label: 'Retry',\r\n              onClick: () => execute(operation, options),\r\n            },\r\n          }\r\n        );\r\n      }\r\n\r\n      if (onError) {\r\n        onError(apiError);\r\n      }\r\n\r\n      return null;\r\n    }\r\n  }, [showError]);\r\n\r\n  const reset = useCallback(() => {\r\n    setState({\r\n      data: null,\r\n      loading: false,\r\n      error: null,\r\n    });\r\n  }, []);\r\n\r\n  const setData = useCallback((data: T) => {\r\n    setState(prev => ({ ...prev, data }));\r\n  }, []);\r\n\r\n  return {\r\n    ...state,\r\n    execute,\r\n    reset,\r\n    setData,\r\n  };\r\n}\r\n\r\n// Hook for handling form submissions with error handling\r\nexport function useFormSubmission<T = any>() {\r\n  const { execute, loading, error } = useAsyncOperation<T>();\r\n\r\n  const submitForm = useCallback(async (\r\n    formData: any,\r\n    submitFunction: (data: any) => Promise<T>,\r\n    options?: {\r\n      successMessage?: string;\r\n      errorMessage?: string;\r\n      onSuccess?: (data: T) => void;\r\n      onError?: (error: APIError) => void;\r\n      resetOnSuccess?: boolean;\r\n    }\r\n  ) => {\r\n    const { showSuccess } = useNotifications();\r\n    const {\r\n      successMessage,\r\n      errorMessage,\r\n      onSuccess,\r\n      onError,\r\n      // resetOnSuccess = false, // Not currently used\r\n    } = options || {};\r\n\r\n    const result = await execute(\r\n      () => submitFunction(formData),\r\n      {\r\n        ...(errorMessage && { errorMessage }),\r\n        onSuccess: (data) => {\r\n          if (successMessage) {\r\n            showSuccess('Success', successMessage);\r\n          }\r\n          if (onSuccess) {\r\n            onSuccess(data);\r\n          }\r\n        },\r\n        ...(onError && { onError }),\r\n      }\r\n    );\r\n\r\n    return result;\r\n  }, [execute]);\r\n\r\n  return {\r\n    submitForm,\r\n    loading,\r\n    error,\r\n  };\r\n}\r\n\r\n// Hook for handling API calls with retry logic\r\nexport function useRetryableOperation<T = any>(maxRetries: number = 3) {\r\n  const [retryCount, setRetryCount] = useState(0);\r\n  const { execute, loading, error, data, reset } = useAsyncOperation<T>();\r\n\r\n  const executeWithRetry = useCallback(async (\r\n    operation: () => Promise<T>,\r\n    options?: {\r\n      retryDelay?: number;\r\n      showErrorNotification?: boolean;\r\n      errorMessage?: string;\r\n      onSuccess?: (data: T) => void;\r\n      onError?: (error: APIError, attempts: number) => void;\r\n    }\r\n  ): Promise<T | null> => {\r\n    const {\r\n      retryDelay = 1000,\r\n      showErrorNotification = true,\r\n      errorMessage,\r\n      onSuccess,\r\n      onError,\r\n    } = options || {};\r\n\r\n    let attempts = 0;\r\n    \r\n    while (attempts <= maxRetries) {\r\n      try {\r\n        const result = await execute(operation, {\r\n          showErrorNotification: attempts === maxRetries ? showErrorNotification : false,\r\n          ...(errorMessage && { errorMessage }),\r\n          ...(onSuccess && { onSuccess }),\r\n          onError: (error) => {\r\n            setRetryCount(attempts);\r\n            if (onError) {\r\n              onError(error, attempts);\r\n            }\r\n          },\r\n        });\r\n\r\n        if (result !== null) {\r\n          setRetryCount(0);\r\n          return result;\r\n        }\r\n      } catch (error) {\r\n        console.error(`Attempt ${attempts + 1} failed:`, error);\r\n      }\r\n\r\n      attempts++;\r\n      \r\n      if (attempts <= maxRetries) {\r\n        await new Promise(resolve => setTimeout(resolve, retryDelay * attempts));\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }, [execute, maxRetries]);\r\n\r\n  return {\r\n    executeWithRetry,\r\n    loading,\r\n    error,\r\n    data,\r\n    retryCount,\r\n    reset,\r\n  };\r\n}\r\n\r\n// Hook for handling network-related errors\r\nexport function useNetworkErrorHandler() {\r\n  const { showError, showWarning } = useNotifications();\r\n\r\n  const handleNetworkError = useCallback((error: any) => {\r\n    if (!navigator.onLine) {\r\n      showWarning(\r\n        'No Internet Connection',\r\n        'Please check your internet connection and try again.'\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (error?.code === 'NETWORK_ERROR' || error?.message?.includes('fetch')) {\r\n      showError(\r\n        'Network Error',\r\n        'Unable to connect to the server. Please try again later.'\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (error?.status === 500) {\r\n      showError(\r\n        'Server Error',\r\n        'The server encountered an error. Our team has been notified.'\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (error?.status === 403) {\r\n      showError(\r\n        'Access Denied',\r\n        'You do not have permission to perform this action.'\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (error?.status === 401) {\r\n      showError(\r\n        'Authentication Required',\r\n        'Please log in to continue.'\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Generic error fallback\r\n    showError(\r\n      'Something went wrong',\r\n      error?.message || 'An unexpected error occurred. Please try again.'\r\n    );\r\n  }, [showError, showWarning]);\r\n\r\n  return { handleNetworkError };\r\n}\r\n\r\n// Global error handler for unhandled promise rejections\r\nexport function useGlobalErrorHandler() {\r\n  const { showError } = useNotifications();\r\n\r\n  const setupGlobalHandlers = useCallback(() => {\r\n    // Handle unhandled promise rejections\r\n    const handleUnhandledRejection = (event: PromiseRejectionEvent) => {\r\n      console.error('Unhandled promise rejection:', event.reason);\r\n      \r\n      showError(\r\n        'Unexpected Error',\r\n        'An unexpected error occurred. Please refresh the page if the problem persists.',\r\n        { persistent: true }\r\n      );\r\n      \r\n      // Prevent the default behavior (logging to console)\r\n      event.preventDefault();\r\n    };\r\n\r\n    // Handle global JavaScript errors\r\n    const handleGlobalError = (event: ErrorEvent) => {\r\n      console.error('Global error:', event.error);\r\n      \r\n      showError(\r\n        'Application Error',\r\n        'A critical error occurred. Please refresh the page.',\r\n        { persistent: true }\r\n      );\r\n    };\r\n\r\n    window.addEventListener('unhandledrejection', handleUnhandledRejection);\r\n    window.addEventListener('error', handleGlobalError);\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      window.removeEventListener('unhandledrejection', handleUnhandledRejection);\r\n      window.removeEventListener('error', handleGlobalError);\r\n    };\r\n  }, [showError]);\r\n\r\n  return { setupGlobalHandlers };\r\n}","import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n","import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","/**\r\n * Error Boundary Component\r\n * Catches JavaScript errors anywhere in the child component tree\r\n */\r\n\r\nimport React, { Component, ErrorInfo, ReactNode } from 'react';\r\nimport { AlertTriangle, RefreshCw, Home, Bug } from 'lucide-react';\r\nimport { Button } from '../ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../ui/card';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\r\n  showDetails?: boolean;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error: Error | null;\r\n  errorInfo: ErrorInfo | null;\r\n  errorId: string;\r\n}\r\n\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n      errorId: '',\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): Partial<State> {\r\n    // Update state so the next render will show the fallback UI\r\n    return {\r\n      hasError: true,\r\n      error,\r\n      errorId: `error_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    };\r\n  }\r\n\r\n  override componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    // Log error details\r\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\r\n    \r\n    this.setState({\r\n      error,\r\n      errorInfo,\r\n    });\r\n\r\n    // Call onError callback if provided\r\n    if (this.props.onError) {\r\n      this.props.onError(error, errorInfo);\r\n    }\r\n\r\n    // TODO: Send error to logging service\r\n    // this.logErrorToService(error, errorInfo);\r\n  }\r\n\r\n  /*\r\n  private logErrorToService = async (error: Error, errorInfo: ErrorInfo) => {\r\n    try {\r\n      // Send error to backend logging service\r\n      await fetch('/api/errors', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          errorId: this.state.errorId,\r\n          message: error.message,\r\n          stack: error.stack,\r\n          componentStack: errorInfo.componentStack,\r\n          timestamp: new Date().toISOString(),\r\n          userAgent: navigator.userAgent,\r\n          url: window.location.href,\r\n        }),\r\n      });\r\n    } catch (loggingError) {\r\n      console.error('Failed to log error to service:', loggingError);\r\n    }\r\n  };\r\n  */\r\n\r\n  private handleRetry = () => {\r\n    this.setState({\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n      errorId: '',\r\n    });\r\n  };\r\n\r\n  private handleReload = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  private handleGoHome = () => {\r\n    window.location.href = '/';\r\n  };\r\n\r\n  private handleReportBug = () => {\r\n    const subject = `Bug Report - ${this.state.errorId}`;\r\n    const body = `Error ID: ${this.state.errorId}\\n\\nError Message: ${this.state.error?.message}\\n\\nURL: ${window.location.href}\\n\\nSteps to reproduce:\\n1. \\n2. \\n3. `;\r\n    const mailtoLink = `mailto:support@stich.live?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;\r\n    window.open(mailtoLink);\r\n  };\r\n\r\n  override render() {\r\n    if (this.state.hasError) {\r\n      // Custom fallback UI\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      // Default error UI\r\n      return (\r\n        <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\r\n          <Card className=\"max-w-2xl w-full\">\r\n            <CardHeader className=\"text-center\">\r\n              <div className=\"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4\">\r\n                <AlertTriangle className=\"w-8 h-8 text-red-600\" />\r\n              </div>\r\n              <CardTitle className=\"text-2xl text-red-700\">Something went wrong</CardTitle>\r\n              <CardDescription className=\"text-gray-600\">\r\n                We're sorry, but an unexpected error occurred. Our team has been notified.\r\n              </CardDescription>\r\n            </CardHeader>\r\n            \r\n            <CardContent className=\"space-y-6\">\r\n              {/* Error ID for support */}\r\n              <div className=\"bg-gray-100 rounded-lg p-4\">\r\n                <p className=\"text-sm text-gray-600\">\r\n                  <strong>Error ID:</strong> {this.state.errorId}\r\n                </p>\r\n                <p className=\"text-xs text-gray-500 mt-1\">\r\n                  Please include this ID when reporting the issue\r\n                </p>\r\n              </div>\r\n\r\n              {/* Error details (if enabled) */}\r\n              {this.props.showDetails && this.state.error && (\r\n                <details className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n                  <summary className=\"text-sm font-medium text-red-700 cursor-pointer\">\r\n                    Technical Details\r\n                  </summary>\r\n                  <div className=\"mt-3 space-y-2\">\r\n                    <div>\r\n                      <p className=\"text-xs font-medium text-red-600\">Error Message:</p>\r\n                      <p className=\"text-xs text-red-700 font-mono bg-red-100 p-2 rounded mt-1\">\r\n                        {this.state.error.message}\r\n                      </p>\r\n                    </div>\r\n                    {this.state.error.stack && (\r\n                      <div>\r\n                        <p className=\"text-xs font-medium text-red-600\">Stack Trace:</p>\r\n                        <pre className=\"text-xs text-red-700 font-mono bg-red-100 p-2 rounded mt-1 overflow-auto max-h-40\">\r\n                          {this.state.error.stack}\r\n                        </pre>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </details>\r\n              )}\r\n\r\n              {/* Action buttons */}\r\n              <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                <Button onClick={this.handleRetry} className=\"flex-1\">\r\n                  <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                  Try Again\r\n                </Button>\r\n                \r\n                <Button onClick={this.handleReload} variant=\"outline\" className=\"flex-1\">\r\n                  <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                  Reload Page\r\n                </Button>\r\n                \r\n                <Button onClick={this.handleGoHome} variant=\"outline\" className=\"flex-1\">\r\n                  <Home className=\"w-4 h-4 mr-2\" />\r\n                  Go Home\r\n                </Button>\r\n                \r\n                <Button onClick={this.handleReportBug} variant=\"outline\" className=\"flex-1\">\r\n                  <Bug className=\"w-4 h-4 mr-2\" />\r\n                  Report Bug\r\n                </Button>\r\n              </div>\r\n\r\n              {/* Help text */}\r\n              <div className=\"text-center text-sm text-gray-500\">\r\n                <p>If this problem persists, please contact our support team.</p>\r\n                <p className=\"mt-1\">\r\n                  <a \r\n                    href=\"mailto:support@stich.live\" \r\n                    className=\"text-blue-600 hover:underline\"\r\n                  >\r\n                    support@stich.live\r\n                  </a>\r\n                </p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n// Hook version for functional components\r\nexport function useErrorHandler() {\r\n  const handleError = (error: Error, errorInfo?: ErrorInfo) => {\r\n    console.error('Error caught by useErrorHandler:', error, errorInfo);\r\n    \r\n    // TODO: Send to logging service\r\n    // logErrorToService(error, errorInfo);\r\n  };\r\n\r\n  return { handleError };\r\n}\r\n\r\n// Higher-order component for wrapping components with error boundary\r\nexport function withErrorBoundary<P extends object>(\r\n  Component: React.ComponentType<P>,\r\n  fallback?: ReactNode,\r\n  onError?: (error: Error, errorInfo: ErrorInfo) => void\r\n) {\r\n  return function WrappedComponent(props: P) {\r\n    return (\r\n      <ErrorBoundary fallback={fallback} {...(onError && { onError })}>\r\n        <Component {...props} />\r\n      </ErrorBoundary>\r\n    );\r\n  };\r\n}","// import React from 'react'; // React 17+ with JSX transform doesn't require this\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from '../ui/button';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\n\r\nexport default function Header() {\r\n  const { user, signOut } = useAuth();\r\n\r\n  return (\r\n    <header className=\"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\r\n      <div className=\"container mx-auto px-4 py-4 flex justify-between items-center\">\r\n        <Link to=\"/\" className=\"text-2xl font-bold text-primary\">\r\n          Stich\r\n        </Link>\r\n        \r\n        <nav className=\"hidden md:flex space-x-6\">\r\n          <Link to=\"/dashboard\" className=\"text-sm font-medium hover:text-primary\">\r\n            Dashboard\r\n          </Link>\r\n          <Link to=\"/gallery\" className=\"text-sm font-medium hover:text-primary\">\r\n            Gallery\r\n          </Link>\r\n          <Link to=\"/search\" className=\"text-sm font-medium hover:text-primary\">\r\n            Search\r\n          </Link>\r\n        </nav>\r\n\r\n        <div className=\"flex items-center space-x-4\">\r\n          {user ? (\r\n            <>\r\n              <Link to=\"/profile\">\r\n                <Button variant=\"ghost\" size=\"sm\">\r\n                  Profile\r\n                </Button>\r\n              </Link>\r\n              <Button variant=\"outline\" size=\"sm\" onClick={signOut}>\r\n                Sign Out\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Link to=\"/login\">\r\n                <Button variant=\"ghost\" size=\"sm\">\r\n                  Sign In\r\n                </Button>\r\n              </Link>\r\n              <Link to=\"/register\">\r\n                <Button size=\"sm\">\r\n                  Sign Up\r\n                </Button>\r\n              </Link>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","// import React from 'react'; // React 17+ with JSX transform doesn't require this\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"border-t bg-background\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-4\">Stich</h3>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              AI-powered web application generator for modern developers.\r\n            </p>\r\n          </div>\r\n          \r\n          <div>\r\n            <h4 className=\"text-sm font-semibold mb-4\">Product</h4>\r\n            <ul className=\"space-y-2 text-sm\">\r\n              <li><Link to=\"/dashboard\" className=\"text-muted-foreground hover:text-primary\">Dashboard</Link></li>\r\n              <li><Link to=\"/gallery\" className=\"text-muted-foreground hover:text-primary\">Gallery</Link></li>\r\n              <li><Link to=\"/search\" className=\"text-muted-foreground hover:text-primary\">Search</Link></li>\r\n            </ul>\r\n          </div>\r\n          \r\n          <div>\r\n            <h4 className=\"text-sm font-semibold mb-4\">Support</h4>\r\n            <ul className=\"space-y-2 text-sm\">\r\n              <li><Link to=\"/help\" className=\"text-muted-foreground hover:text-primary\">Help Center</Link></li>\r\n              <li><Link to=\"/api-docs\" className=\"text-muted-foreground hover:text-primary\">API Docs</Link></li>\r\n              <li><Link to=\"/tutorials\" className=\"text-muted-foreground hover:text-primary\">Tutorials</Link></li>\r\n            </ul>\r\n          </div>\r\n          \r\n          <div>\r\n            <h4 className=\"text-sm font-semibold mb-4\">Legal</h4>\r\n            <ul className=\"space-y-2 text-sm\">\r\n              <li><Link to=\"/privacy\" className=\"text-muted-foreground hover:text-primary\">Privacy Policy</Link></li>\r\n              <li><Link to=\"/terms\" className=\"text-muted-foreground hover:text-primary\">Terms of Service</Link></li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"border-t mt-8 pt-8 text-center text-sm text-muted-foreground\">\r\n          <p>&copy; 2024 Stich Production. All rights reserved.</p>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","// import React, { ReactNode } from 'react'; // React 17+ with JSX transform doesn't require this\r\nimport { ReactNode } from 'react';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\n\r\ninterface LayoutProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport default function Layout({ children }: LayoutProps) {\r\n  return (\r\n    <div className=\"min-h-screen bg-background flex flex-col\">\r\n      <Header />\r\n      <main className=\"flex-1\">\r\n        {children}\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","import { ReactNode } from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\n\r\ninterface ProtectedRouteProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport default function ProtectedRoute({ children }: ProtectedRouteProps) {\r\n  const { isAuthenticated, loading } = useAuth();\r\n  const location = useLocation();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    // Redirect to login page with return url\r\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n","import { Routes, Route } from 'react-router-dom';\r\nimport { Toaster } from './components/ui/toaster';\r\nimport { Suspense, lazy } from 'react';\r\n\r\n// Import contexts\r\nimport { AuthProvider } from './contexts/AuthContext';\r\nimport { ThemeProvider } from './contexts/ThemeContext';\r\nimport { NotificationProvider } from './contexts/NotificationContext';\r\nimport { SettingsProvider } from './contexts/SettingsContext';\r\nimport { SearchProvider } from './contexts/SearchContext';\r\n\r\n// Import error handling\r\nimport { GlobalErrorHandler } from './components/error/GlobalErrorHandler';\r\nimport { ErrorBoundary } from './components/error/ErrorBoundary';\r\n\r\n// Lazy-loaded pages for code splitting\r\nconst HomePage = lazy(() => import('./routes/HomePage'));\r\nconst DashboardPage = lazy(() => import('./routes/DashboardPage'));\r\nconst LoginPage = lazy(() => import('./routes/LoginPage'));\r\nconst RegisterPage = lazy(() => import('./routes/RegisterPage'));\r\nconst ProfilePage = lazy(() => import('./routes/ProfilePage'));\r\nconst SettingsPage = lazy(() => import('./routes/Settings'));\r\nconst SearchPage = lazy(() => import('./routes/SearchPage'));\r\nconst DiscoveryPage = lazy(() => import('./routes/DiscoveryPage'));\r\nconst NotFoundPage = lazy(() => import('./routes/NotFoundPage'));\r\n\r\n// Lazy-loaded components\r\nconst WebContainerTest = lazy(() => import('./components/WebContainerTest').then(module => ({ default: module.WebContainerTest })));\r\nconst RealtimeGeneration = lazy(() => import('./components/RealtimeGeneration').then(module => ({ default: module.RealtimeGeneration })));\r\n\r\n// Import layout components\r\nimport Layout from './components/layout/Layout';\r\nimport ProtectedRoute from './components/auth/ProtectedRoute';\r\n\r\n// Loading component\r\nconst LoadingSpinner = () => (\r\n  <div className=\"flex items-center justify-center min-h-[200px]\">\r\n    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\r\n  </div>\r\n);\r\n\r\nfunction App() {\r\n  return (\r\n    <ErrorBoundary showDetails={process.env.NODE_ENV === 'development'}>\r\n      <GlobalErrorHandler>\r\n        <ThemeProvider>\r\n          <AuthProvider>\r\n            <NotificationProvider>\r\n              <SettingsProvider>\r\n                <SearchProvider>\r\n                  <Layout>\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                      <Routes>\r\n                        {/* Public routes */}\r\n                        <Route path=\"/\" element={<HomePage />} />\r\n                        <Route path=\"/login\" element={<LoginPage />} />\r\n                        <Route path=\"/register\" element={<RegisterPage />} />\r\n                        <Route path=\"/search\" element={<SearchPage />} />\r\n                        <Route path=\"/discovery\" element={<DiscoveryPage />} />\r\n                        <Route path=\"/webcontainer-test\" element={<WebContainerTest />} />\r\n                        <Route path=\"/realtime-test\" element={<RealtimeGeneration />} />\r\n                        \r\n                        {/* Protected routes */}\r\n                        <Route path=\"/dashboard\" element={\r\n                          <ProtectedRoute>\r\n                            <DashboardPage />\r\n                          </ProtectedRoute>\r\n                        } />\r\n                        <Route path=\"/profile\" element={\r\n                          <ProtectedRoute>\r\n                            <ProfilePage />\r\n                          </ProtectedRoute>\r\n                        } />\r\n                        <Route path=\"/settings\" element={\r\n                          <ProtectedRoute>\r\n                            <SettingsPage />\r\n                          </ProtectedRoute>\r\n                        } />\r\n                        \r\n                        {/* 404 page */}\r\n                        <Route path=\"*\" element={<NotFoundPage />} />\r\n                      </Routes>\r\n                    </Suspense>\r\n                  </Layout>\r\n                  \r\n                  {/* Global toast notifications */}\r\n                  <Toaster />\r\n                </SearchProvider>\r\n              </SettingsProvider>\r\n            </NotificationProvider>\r\n          </AuthProvider>\r\n        </ThemeProvider>\r\n      </GlobalErrorHandler>\r\n    </ErrorBoundary>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { StrictMode } from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App.tsx';\r\nimport './styles/globals.css';\r\n\r\n// Register service worker for caching\r\nif ('serviceWorker' in navigator && import.meta.env.PROD) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker\r\n      .register('/sw.js')\r\n      .then((registration) => {\r\n        console.log('SW registered: ', registration);\r\n        \r\n        // Check for updates periodically\r\n        setInterval(() => {\r\n          registration.update();\r\n        }, 60000); // Check every minute\r\n      })\r\n      .catch((registrationError) => {\r\n        console.log('SW registration failed: ', registrationError);\r\n      });\r\n  });\r\n}\r\n\r\ncreateRoot(document.getElementById('root')!).render(\r\n  <StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </StrictMode>\r\n);\r\n"],"file":"assets/js/index-gdR5KnzF.js"}